{"version":3,"sources":["../src/components/RicherEditor.tsx","../src/icons/BoldIcon.tsx","../src/icons/ItalicIcon.tsx","../src/icons/UnderlineIcon.tsx","../src/icons/StrikeIcon.tsx","../src/icons/CodeIcon.tsx","../src/icons/BulletListIcon.tsx","../src/icons/OrderedListIcon.tsx","../src/icons/TaskListIcon.tsx","../src/icons/BlockquoteIcon.tsx","../src/icons/LinkIcon.tsx","../src/icons/ImageIcon.tsx","../src/icons/TableIcon.tsx","../src/icons/UndoIcon.tsx","../src/icons/RedoIcon.tsx","../src/icons/AlignLeft.tsx","../src/icons/AlignCenter.tsx","../src/icons/AlignRight.tsx","../src/icons/AlignJustify.tsx","../src/icons/Highlighter.tsx","../src/icons/Heading1.tsx","../src/icons/Heading2.tsx","../src/icons/Heading3.tsx","../src/icons/Heading4.tsx","../src/icons/Heading5.tsx","../src/icons/Heading6.tsx","../src/icons/VideoIcon.tsx","../src/icons/SubscriptIcon.tsx","../src/icons/SuperscriptIcon.tsx","../src/icons/PaintBucket.tsx","../src/icons/TextColorIcon.tsx","../src/components/tiptap-extensions/CustomBulletList.ts","../src/components/tiptap-extensions/CustomOrderedList.ts","../src/components/ui/CustomSelect.tsx","../src/lib/utils.ts","../src/components/ui/CustomPopover.tsx","../src/components/SmallRicherEditor.tsx","../src/components/RicherContent.tsx"],"sourcesContent":["'use client';\n// File: src/components/Editor.tsx\nimport React, { useCallback, useState } from \"react\";\nimport { useEditor, EditorContent } from \"@tiptap/react\";\nimport StarterKit from \"@tiptap/starter-kit\";\nimport Link from \"@tiptap/extension-link\";\nimport Image from \"@tiptap/extension-image\";\nimport Heading from \"@tiptap/extension-heading\";\nimport ListItem from \"@tiptap/extension-list-item\";\nimport Bold from \"@tiptap/extension-bold\";\nimport Italic from \"@tiptap/extension-italic\";\nimport Underline from \"@tiptap/extension-underline\";\nimport Strike from \"@tiptap/extension-strike\";\nimport Blockquote from \"@tiptap/extension-blockquote\";\nimport CodeBlock from \"@tiptap/extension-code-block\";\nimport HorizontalRule from \"@tiptap/extension-horizontal-rule\";\nimport TextAlign from \"@tiptap/extension-text-align\";\nimport { Table } from \"@tiptap/extension-table\";\nimport TableRow from \"@tiptap/extension-table-row\";\nimport TableCell from \"@tiptap/extension-table-cell\";\nimport TableHeader from \"@tiptap/extension-table-header\";\nimport Dropcursor from \"@tiptap/extension-dropcursor\";\nimport Gapcursor from \"@tiptap/extension-gapcursor\";\nimport TaskList from \"@tiptap/extension-task-list\";\nimport TaskItem from \"@tiptap/extension-task-item\";\nimport Superscript from \"@tiptap/extension-superscript\";\nimport Subscript from \"@tiptap/extension-subscript\";\nimport Typography from \"@tiptap/extension-typography\";\n// Video extension (custom or from @tiptap/extension-video if available)\nimport Youtube from '@tiptap/extension-youtube';\nimport Highlight from '@tiptap/extension-highlight';\nimport Placeholder from '@tiptap/extension-placeholder';\n\nimport BoldIcon from '../icons/BoldIcon';\nimport ItalicIcon from '../icons/ItalicIcon';\nimport UnderlineIcon from '../icons/UnderlineIcon';\nimport StrikeIcon from '../icons/StrikeIcon';\nimport CodeIcon from '../icons/CodeIcon';\nimport BulletListIcon from '../icons/BulletListIcon';\nimport OrderedListIcon from '../icons/OrderedListIcon';\nimport TaskListIcon from '../icons/TaskListIcon';\nimport BlockquoteIcon from '../icons/BlockquoteIcon';\nimport LinkIcon from '../icons/LinkIcon';\nimport ImageIcon from '../icons/ImageIcon';\nimport TableIcon from '../icons/TableIcon';\nimport UndoIcon from '../icons/UndoIcon';\nimport RedoIcon from '../icons/RedoIcon';\nimport AlignLeft from '../icons/AlignLeft';\nimport AlignCenter from '../icons/AlignCenter';\nimport AlignRight from '../icons/AlignRight';\nimport AlignJustify from '../icons/AlignJustify';\nimport Highlighter from '../icons/Highlighter';\nimport Heading1 from '../icons/Heading1';\nimport Heading2 from '../icons/Heading2';\nimport Heading3 from '../icons/Heading3';\nimport Heading4 from '../icons/Heading4';\nimport Heading5 from '../icons/Heading5';\nimport Heading6 from '../icons/Heading6';\nimport VideoIcon from '../icons/VideoIcon';\nimport SubscriptIcon from '../icons/SubscriptIcon';\nimport SuperscriptIcon from '../icons/SuperscriptIcon';\nimport PaintBucket from '../icons/PaintBucket';\nimport TextColorIcon from '../icons/TextColorIcon';\n\nimport { TextStyle } from '@tiptap/extension-text-style';\nimport FontFamily from '@tiptap/extension-font-family';\nimport FontSize from '@tiptap/extension-font-size';\nimport Color from '@tiptap/extension-color';\nimport { CustomBulletList } from './tiptap-extensions/CustomBulletList';\nimport { CustomOrderedList } from './tiptap-extensions/CustomOrderedList';\nimport CustomSelect from './ui/CustomSelect';\nimport CustomPopover from './ui/CustomPopover';\n\n// Import CSS inside the component so it is bundled\nimport './RicherEditor.css';\n\n\nconst fontSizes = [\n  { name: '10px', value: '10px' },\n  { name: '12px', value: '12px' },\n  { name: '14px', value: '14px' },\n  { name: '16px', value: '16px' },\n  { name: '18px', value: '18px' },\n  { name: '20px', value: '20px' },\n  { name: '22px', value: '22px' },\n  { name: '24px', value: '24px' },\n  { name: '26px', value: '26px' },\n  { name: '28px', value: '28px' },\n  { name: '32px', value: '32px' },\n  { name: '36px', value: '36px' },\n  { name: '40px', value: '40px' },\n  { name: '48px', value: '48px' },\n  { name: '56px', value: '56px' },\n  { name: '64px', value: '64px' },\n];\n\nconst fontFamilies = [\n  { name: 'Sans-serif', value: 'sans-serif' },\n  { name: 'Serif', value: 'serif' },\n  { name: 'Monospace', value: 'monospace' },\n  { name: 'Arial', value: 'Arial, sans-serif' },\n  { name: 'Helvetica', value: 'Helvetica, Arial, sans-serif' },\n  { name: 'Times New Roman', value: 'Times New Roman, Times, serif' },\n  { name: 'Georgia', value: 'Georgia, serif' },\n  { name: 'Courier New', value: 'Courier New, Courier, monospace' },\n  { name: 'Verdana', value: 'Verdana, Geneva, sans-serif' },\n  { name: 'Trebuchet MS', value: 'Trebuchet MS, sans-serif' },\n  { name: 'Palatino', value: 'Palatino, serif' },\n  { name: 'Garamond', value: 'Garamond, serif' },\n  { name: 'Comic Sans MS', value: 'Comic Sans MS, cursive, sans-serif' },\n  { name: 'Impact', value: 'Impact, Charcoal, sans-serif' },\n  { name: 'Lucida Console', value: 'Lucida Console, Monaco, monospace' },\n  { name: 'Tahoma', value: 'Tahoma, Geneva, sans-serif' },\n  { name: 'Optima', value: 'Optima, sans-serif' },\n  { name: 'Futura', value: 'Futura, sans-serif' },\n  { name: 'Franklin Gothic', value: 'Franklin Gothic Medium, Arial Narrow, Arial, sans-serif' },\n  { name: 'Century Gothic', value: 'Century Gothic, sans-serif' },\n];\nconst headingOptions = [\n  { level: 1, label: <Heading1 size={18} /> },\n  { level: 2, label: <Heading2 size={18} /> },\n  { level: 3, label: <Heading3 size={18} /> },\n  { level: 4, label: <Heading4 size={18} /> },\n  { level: 5, label: <Heading5 size={18} /> },\n  { level: 6, label: <Heading6 size={18} /> },\n];\nconst lineHeights = [\n  { name: 'Single', value: '1' },\n  { name: '1.15', value: '1.15' },\n  { name: '1.5', value: '1.5' },\n  { name: 'Double', value: '2' },\n  { name: '2.5', value: '2.5' },\n  { name: '3', value: '3' },\n];\n\nconst unorderedListStyles = [\n  { name: 'Disc', value: 'disc', icon: '●', aria: 'Disc' },\n  { name: 'Circle', value: 'circle', icon: '○', aria: 'Circle' },\n  { name: 'Square', value: 'square', icon: '■', aria: 'Square' },\n];\nconst orderedListStyles = [\n  { name: 'Decimal', value: 'decimal', icon: '1.', aria: 'Decimal' },\n  { name: 'Lower Alpha', value: 'lower-alpha', icon: 'a.', aria: 'Lower Alpha' },\n  { name: 'Upper Alpha', value: 'upper-alpha', icon: 'A.', aria: 'Upper Alpha' },\n  { name: 'Lower Roman', value: 'lower-roman', icon: 'i.', aria: 'Lower Roman' },\n  { name: 'Upper Roman', value: 'upper-roman', icon: 'I.', aria: 'Upper Roman' },\n];\n\n// Update TiptapEditor to accept props\ninterface RicherEditorProps {\n  content?: string | object;\n  onChange?: (value: string | object) => void;\n  imageUploadUrl?: string;\n  minHeight?: string;\n  maxHeight?: string;\n  editorProps?: any;\n  outputFormat?: 'html' | 'json';\n  readOnly?: boolean;\n  placeholder?: string;\n  className?: string;\n  excludeToolbarButtons?: string[];\n  style?: React.CSSProperties;\n  i18n?: Record<string, string>;\n}\n\ntype ToolbarButtonKey =\n  | 'heading'\n  | 'fontSize'\n  | 'fontFamily'\n  | 'bold'\n  | 'italic'\n  | 'underline'\n  | 'strike'\n  | 'highlight'\n  | 'code'\n  | 'bulletList'\n  | 'orderedList'\n  | 'taskList'\n  | 'blockquote'\n  | 'hr'\n  | 'table'\n  | 'link'\n  | 'image'\n  | 'video'\n  | 'alignLeft'\n  | 'alignCenter'\n  | 'alignRight'\n  | 'alignJustify'\n  | 'textColor'\n  | 'bgColor'\n  | 'subscript'\n  | 'superscript'\n  | 'undo'\n  | 'redo';\n\nconst defaultI18n = {\n  heading: 'Heading',\n  fontSize: 'Font Size',\n  fontFamily: 'Font Family',\n  bold: 'Bold',\n  italic: 'Italic',\n  underline: 'Underline',\n  strike: 'Strikethrough',\n  highlight: 'Highlight',\n  code: 'Code Block',\n  bulletList: 'Bullet List',\n  orderedList: 'Ordered List',\n  taskList: 'Task List',\n  blockquote: 'Blockquote',\n  hr: 'Horizontal Rule',\n  table: 'Insert Table',\n  link: 'Insert/Edit Link',\n  image: 'Insert Image',\n  video: 'Insert YouTube Video',\n  alignLeft: 'Align Left',\n  alignCenter: 'Align Center',\n  alignRight: 'Align Right',\n  alignJustify: 'Align Justify',\n  textColor: 'Text Color',\n  bgColor: 'Background Color',\n  subscript: 'Subscript',\n  superscript: 'Superscript',\n  undo: 'Undo',\n  redo: 'Redo',\n  insert: 'Insert',\n  remove: 'Remove',\n  add: 'Add',\n  cancel: 'Cancel',\n};\n\nconst MenuBar = ({ editor, imageUploadUrl, excludeToolbarButtons = [], i18n = {} }: {\n  editor: any,\n  imageUploadUrl?: string,\n  excludeToolbarButtons?: string[],\n  i18n?: Record<string, string>,\n}) => {\n  // Popover state for link, image, video\n  const [imagePopoverOpen, setImagePopoverOpen] = useState(false);\n  const [imageTab, setImageTab] = useState<'url' | 'upload'>('url');\n  const [imageUrl, setImageUrl] = useState('');\n  const [imageWidth, setImageWidth] = useState('');\n  const [imageHeight, setImageHeight] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [uploadError, setUploadError] = useState<string | null>(null);\n  const [uploadedImageUrl, setUploadedImageUrl] = useState('');\n  const [imageFile, setImageFile] = useState<File | null>(null);\n  const [videoPopoverOpen, setVideoPopoverOpen] = useState(false);\n  const [videoUrl, setVideoUrl] = useState('');\n  const [videoWidth, setVideoWidth] = useState('');\n  const [videoHeight, setVideoHeight] = useState('');\n  const [linkPopoverOpen, setLinkPopoverOpen] = useState(false);\n  const [linkUrl, setLinkUrl] = useState('');\n\n  const linkButtonRef = React.useRef<HTMLButtonElement>(null);\n  const imageButtonRef = React.useRef<HTMLButtonElement>(null);\n  const videoButtonRef = React.useRef<HTMLButtonElement>(null);\n\n  // Helper for image by URL\n  const handleImageUrlInsert = useCallback(() => {\n    if (imageUrl) {\n      const attrs: any = { src: imageUrl };\n      if (imageWidth) attrs.width = imageWidth;\n      if (imageHeight) attrs.height = imageHeight;\n      editor.chain().focus().setImage(attrs).run();\n      setImagePopoverOpen(false);\n      setImageUrl('');\n      setImageWidth('');\n      setImageHeight('');\n    }\n  }, [editor, imageUrl, imageWidth, imageHeight]);\n\n  // Helper for image upload\n  const handleImageUpload = async (file: File) => {\n    setUploading(true);\n    setUploadError(null);\n    setUploadedImageUrl('');\n    try {\n      let url = '';\n      if (imageUploadUrl) {\n        const formData = new FormData();\n        formData.append('file', file);\n        const response = await fetch(imageUploadUrl, {\n          method: 'POST',\n          body: formData,\n        });\n        if (!response.ok) throw new Error('Upload failed');\n        const data = await response.json();\n        url = data.link || data.url || data.src || '';\n      }\n      if (!url) throw new Error('No image URL returned');\n      setUploadedImageUrl(url);\n    } catch (err: any) {\n      setUploadError(err.message || 'Upload failed');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleUploadInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setImageFile(file);\n      handleImageUpload(file);\n    }\n  };\n\n  const handleUploadedImageInsert = () => {\n    if (uploadedImageUrl) {\n      const attrs: any = { src: uploadedImageUrl };\n      if (imageWidth) attrs.width = imageWidth;\n      if (imageHeight) attrs.height = imageHeight;\n      editor.chain().focus().setImage(attrs).run();\n      setImagePopoverOpen(false);\n      setUploadedImageUrl('');\n      setImageFile(null);\n      setImageWidth('');\n      setImageHeight('');\n      setUploadError(null);\n      setImageTab('url');\n    }\n  };\n\n  // Helper for video embedding (popover)\n  const handleVideoUrlInsert = useCallback(() => {\n    if (videoUrl) {\n      const attrs: any = { src: videoUrl };\n      if (videoWidth) attrs.width = videoWidth;\n      if (videoHeight) attrs.height = videoHeight;\n      editor.chain().focus().setYoutubeVideo(attrs).run();\n      setVideoPopoverOpen(false);\n      setVideoUrl('');\n      setVideoWidth('');\n      setVideoHeight('');\n    }\n  }, [editor, videoUrl, videoWidth, videoHeight]);\n\n  // Helper for link insertion (popover)\n  const handleLinkInsert = useCallback(() => {\n    if (linkUrl) {\n      editor.chain().focus().setLink({ href: linkUrl }).run();\n      setLinkPopoverOpen(false);\n      setLinkUrl('');\n    }\n  }, [editor, linkUrl]);\n  const handleLinkUnset = useCallback(() => {\n    editor.chain().focus().unsetLink().run();\n    setLinkPopoverOpen(false);\n    setLinkUrl('');\n  }, [editor]);\n\n  if (!editor) return null;\n\n  const t = { ...defaultI18n, ...i18n };\n\n  return (\n    <div className=\"richer-editor-toolbar global-toolbar\">\n      {/* Headings Dropdown */}\n      <CustomSelect\n        value={(() => {\n          const activeHeading = headingOptions.find(opt => editor.isActive('heading', { level: opt.level }));\n          return activeHeading ? activeHeading.level.toString() : '';\n        })()}\n        options={[\n          { value: 'paragraph', label: 'Paragraph' },\n          ...headingOptions.map(opt => ({ value: opt.level.toString(), label: `H${opt.level}` }))\n        ]}\n        onChange={(val: string) => {\n          if (val === 'paragraph') {\n            editor.chain().focus().setParagraph().run();\n          } else {\n            editor.chain().focus().toggleHeading({ level: Number(val) }).run();\n          }\n        }}\n        className=\"richer-editor-select\"\n        placeholder=\"Heading\"\n        aria-label=\"Heading Level\"\n      />\n      <div className=\"toolbar-divider\" />\n      {/* Font Size Dropdown */}\n      <CustomSelect\n        value={editor.getAttributes('fontSize').fontSize || ''}\n        options={fontSizes.map(f => ({ value: f.value, label: f.name }))}\n        onChange={(val: string) => editor.chain().focus().setFontSize(val).run()}\n        className=\"richer-editor-select\"\n        placeholder=\"Font Size\"\n        aria-label=\"Font Size\"\n      />\n      {/* Font Family Dropdown */}\n      <CustomSelect\n        value={editor.getAttributes('fontFamily').fontFamily || ''}\n        options={fontFamilies.map(f => ({\n          value: f.value,\n          label: <span style={{ fontFamily: f.value }}>{f.name}</span>\n        }))}\n        onChange={(val: string) => editor.chain().focus().setFontFamily(val).run()}\n        className=\"richer-editor-select\"\n        placeholder=\"Font Family\"\n        aria-label=\"Font Family\"\n      />\n      <div className=\"toolbar-divider\" />\n      {/* Font styles */}\n      {!excludeToolbarButtons.includes('bold') && (\n        <button onClick={() => editor.chain().focus().toggleBold().run()} className={`richer-editor-button ${editor.isActive(\"bold\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.bold} title={t.bold}><BoldIcon size={16} /></button>\n      )}\n      {!excludeToolbarButtons.includes('italic') && (\n        <button onClick={() => editor.chain().focus().toggleItalic().run()} className={`richer-editor-button ${editor.isActive(\"italic\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.italic} title={t.italic}><ItalicIcon size={16} /></button>\n      )}\n      {!excludeToolbarButtons.includes('underline') && (\n        <button onClick={() => editor.chain().focus().toggleUnderline().run()} className={`richer-editor-button ${editor.isActive(\"underline\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.underline} title={t.underline}><UnderlineIcon size={16} /></button>\n      )}\n      {!excludeToolbarButtons.includes('strike') && (\n        <button onClick={() => editor.chain().focus().toggleStrike().run()} className={`richer-editor-button ${editor.isActive(\"strike\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.strike} title={t.strike}><StrikeIcon size={16} /></button>\n      )}\n      {!excludeToolbarButtons.includes('highlight') && (\n        <button onClick={() => editor.chain().focus().toggleHighlight().run()} className={`richer-editor-button ${editor.isActive(\"highlight\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.highlight} title={t.highlight}><Highlighter size={16} /></button>\n      )}\n      {!excludeToolbarButtons.includes('code') && (\n        <button onClick={() => editor.chain().focus().toggleCodeBlock().run()} className={`richer-editor-button ${editor.isActive(\"codeBlock\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.code} title={t.code}><CodeIcon size={16} /></button>\n      )}\n      <div className=\"toolbar-divider\" />\n      {/* Lists */}\n      {!excludeToolbarButtons.includes('bulletList') && (\n        <>\n          <button onClick={() => editor.chain().focus().toggleBulletList().run()} className={`richer-editor-button ${editor.isActive(\"bulletList\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.bulletList} title={t.bulletList}><BulletListIcon size={16} /></button>\n          {/* Unordered List Style Dropdown */}\n          <CustomSelect\n            value={editor.getAttributes('bulletList').listStyleType || ''}\n            options={unorderedListStyles.map(opt => ({ value: opt.value, label: <>{opt.icon} {opt.name}</> }))}\n            onChange={(val: string) => {\n              if (editor.isActive('bulletList')) {\n                editor.chain().focus().updateAttributes('bulletList', { listStyleType: val }).run();\n              } else {\n                window.alert('Please place the cursor inside an unordered list to change its style.');\n              }\n            }}\n            className=\"richer-editor-select\"\n            placeholder=\"UL Style\"\n            aria-label=\"Unordered List Style\"\n          />\n        </>\n      )}\n\n      {!excludeToolbarButtons.includes('orderedList') && (\n        <>\n          <button onClick={() => editor.chain().focus().toggleOrderedList().run()} className={`richer-editor-button ${editor.isActive(\"orderedList\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.orderedList} title={t.orderedList}><OrderedListIcon size={16} /></button>\n          {/* Ordered List Style Dropdown */}\n          <CustomSelect\n            value={editor.getAttributes('orderedList').listStyleType || ''}\n            options={orderedListStyles.map(opt => ({ value: opt.value, label: <>{opt.icon} {opt.name}</> }))}\n            onChange={(val: string) => {\n              if (editor.isActive('orderedList')) {\n                editor.chain().focus().updateAttributes('orderedList', { listStyleType: val }).run();\n              } else {\n                window.alert('Please place the cursor inside an ordered list to change its style.');\n              }\n            }}\n            className=\"richer-editor-select\"\n            placeholder=\"OL Style\"\n            aria-label=\"Ordered List Style\"\n          />\n        </>\n      )}\n\n      {!excludeToolbarButtons.includes('taskList') && (\n        <button onClick={() => editor.chain().focus().toggleTaskList().run()} className={`richer-editor-button ${editor.isActive(\"taskList\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.taskList} title={t.taskList}><TaskListIcon size={16} /></button>\n      )}\n      <div className=\"toolbar-divider\" />\n      {/* Blockquote, hr */}\n      {!excludeToolbarButtons.includes('blockquote') && (\n        <button onClick={() => editor.chain().focus().toggleBlockquote().run()} className={`richer-editor-button ${editor.isActive(\"blockquote\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.blockquote} title={t.blockquote}><BlockquoteIcon size={16} /></button>\n      )}\n      {!excludeToolbarButtons.includes('hr') && (\n        <button onClick={() => editor.chain().focus().setHorizontalRule().run()} className=\"richer-editor-button\" type=\"button\" aria-label={t.hr} title={t.hr}>HR</button>\n      )}\n      <div className=\"toolbar-divider\" />\n      {/* Table */}\n      {!excludeToolbarButtons.includes('table') && (\n        <button onClick={() => editor.chain().focus().insertTable({ rows: 3, cols: 3, withHeaderRow: true }).run()} className=\"richer-editor-button\" type=\"button\" aria-label={t.table} title={t.table}><TableIcon size={16} /></button>\n      )}\n      <div className=\"toolbar-divider\" />\n      {/* Link Popover */}\n      {!excludeToolbarButtons.includes('link') && (\n        <>\n          <button\n            ref={linkButtonRef}\n            onClick={() => {\n              setLinkPopoverOpen((open) => !open);\n              setLinkUrl(editor.getAttributes('link').href || '');\n            }}\n            className={`richer-editor-button${editor.isActive(\"link\") ? ' richer-editor-buttonActive' : ''}`}\n            type=\"button\"\n            aria-label={t.link}\n            title={t.link}\n          >\n            <LinkIcon size={16} />\n          </button>\n          <CustomPopover\n            open={linkPopoverOpen}\n            onOpenChange={setLinkPopoverOpen}\n            anchorEl={linkButtonRef.current}\n            closeButton\n            onEsc={() => setLinkPopoverOpen(false)}\n          >\n            <div className=\"mb-2 font-semibold text-base\">Insert Link</div>\n            <input\n              type=\"text\"\n              placeholder=\"Paste link URL here...\"\n              value={linkUrl}\n              onChange={e => setLinkUrl(e.target.value)}\n              className=\"richer-editor-input\"\n              autoFocus\n            />\n            <div className=\"richer-editor-flexRow\">\n              <button\n                className=\"richer-editor-primaryBtn\"\n                onClick={handleLinkInsert}\n                disabled={!linkUrl}\n              >\n                {t.insert}\n              </button>\n              <button\n                className=\"richer-editor-secondaryBtn\"\n                onClick={handleLinkUnset}\n                disabled={!editor.isActive('link')}\n              >\n                {t.remove}\n              </button>\n            </div>\n          </CustomPopover>\n        </>\n      )}\n      {/* Image Popover */}\n      {!excludeToolbarButtons.includes('image') && (\n        <>\n          <button\n            ref={imageButtonRef}\n            onClick={() => {\n              setImagePopoverOpen((open) => !open);\n              if (!imageUploadUrl) setImageTab('url');\n            }}\n            className=\"richer-editor-button\"\n            type=\"button\"\n          >\n            <ImageIcon size={16} />\n          </button>\n          <CustomPopover\n            open={imagePopoverOpen}\n            onOpenChange={setImagePopoverOpen}\n            anchorEl={imageButtonRef.current}\n            closeButton\n            onEsc={() => setImagePopoverOpen(false)}\n          >\n            <div className=\"mb-2 font-semibold text-base flex gap-4 border-b pb-2\">\n              <button className={`richer-editor-button${imageTab === 'url' ? ' richer-editor-buttonActive' : ''}`} onClick={() => setImageTab('url')}>URL</button>\n              {imageUploadUrl && (\n                <button className={`richer-editor-button${imageTab === 'upload' ? ' richer-editor-buttonActive' : ''}`} onClick={() => setImageTab('upload')}>Upload</button>\n              )}\n            </div>\n            {imageTab === 'url' && (\n              <>\n                <input\n                  type=\"text\"\n                  placeholder=\"Paste image URL here...\"\n                  value={imageUrl}\n                  onChange={e => setImageUrl(e.target.value)}\n                  className=\"richer-editor-input\"\n                  autoFocus\n                />\n                <div className=\"richer-editor-flexRowMb2\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Width (e.g. 400 or 50%)\"\n                    value={imageWidth}\n                    onChange={e => setImageWidth(e.target.value)}\n                    className=\"richer-editor-input\"\n                  />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Height (e.g. 300 or 50%)\"\n                    value={imageHeight}\n                    onChange={e => setImageHeight(e.target.value)}\n                    className=\"richer-editor-input\"\n                  />\n                </div>\n                <div className=\"richer-editor-textXs\">Leave blank for default size. Use px (e.g. 400) or % (e.g. 50%).</div>\n                <button\n                  className=\"richer-editor-primaryBtn\"\n                  onClick={handleImageUrlInsert}\n                  disabled={!imageUrl}\n                >\n                  {t.image}\n                </button>\n              </>\n            )}\n            {imageTab === 'upload' && imageUploadUrl && (\n              <>\n                {!uploadedImageUrl && (\n                  <>\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={handleUploadInputChange}\n                      className=\"mb2\"\n                      disabled={uploading}\n                    />\n                    {uploading && <div className=\"text-sm text-blue-600 mb-2\">Uploading...</div>}\n                    {uploadError && <div className=\"text-sm text-red-600 mb-2\">{uploadError}</div>}\n                  </>\n                )}\n                {uploadedImageUrl && (\n                  <>\n                    <div className=\"mb-2 flex flex-col items-center\">\n                      <img src={uploadedImageUrl} alt=\"Preview\" className=\"max-h-40 max-w-full rounded border mb-2\" />\n                    </div>\n                    <div className=\"richer-editor-flexRowMb2\">\n                      <input\n                        type=\"text\"\n                        placeholder=\"Width (e.g. 400 or 50%)\"\n                        value={imageWidth}\n                        onChange={e => setImageWidth(e.target.value)}\n                        className=\"richer-editor-input\"\n                      />\n                      <input\n                        type=\"text\"\n                        placeholder=\"Height (e.g. 300 or 50%)\"\n                        value={imageHeight}\n                        onChange={e => setImageHeight(e.target.value)}\n                        className=\"richer-editor-input\"\n                      />\n                    </div>\n                    <div className=\"richer-editor-flexRow\">\n                      <button\n                        className=\"richer-editor-primaryBtn\"\n                        onClick={handleUploadedImageInsert}\n                      >\n                        {t.add}\n                      </button>\n                      <button\n                        className=\"richer-editor-secondaryBtn\"\n                        onClick={() => {\n                          setUploadedImageUrl('');\n                          setImageFile(null);\n                          setImageWidth('');\n                          setImageHeight('');\n                          setUploadError(null);\n                        }}\n                      >\n                        {t.cancel}\n                      </button>\n                    </div>\n                  </>\n                )}\n              </>\n            )}\n          </CustomPopover>\n        </>\n      )}\n      {/* Video Popover */}\n      {!excludeToolbarButtons.includes('video') && (\n        <>\n          <button\n            ref={videoButtonRef}\n            onClick={() => setVideoPopoverOpen((open) => !open)}\n            className=\"richer-editor-button\"\n            type=\"button\"\n          >\n            <VideoIcon size={16} />\n          </button>\n          <CustomPopover\n            open={videoPopoverOpen}\n            onOpenChange={setVideoPopoverOpen}\n            anchorEl={videoButtonRef.current}\n            closeButton\n            onEsc={() => setVideoPopoverOpen(false)}\n          >\n            <div className=\"mb-2 font-semibold text-base\">Insert YouTube Video</div>\n            <input\n              type=\"text\"\n              placeholder=\"Paste YouTube video URL here...\"\n              value={videoUrl}\n              onChange={e => setVideoUrl(e.target.value)}\n              className=\"richer-editor-input\"\n              autoFocus\n            />\n            <div className=\"richer-editor-flexRowMb2\">\n              <input\n                type=\"text\"\n                placeholder=\"Width (e.g. 400 or 50%)\"\n                value={videoWidth}\n                onChange={e => setVideoWidth(e.target.value)}\n                className=\"richer-editor-input\"\n              />\n              <input\n                type=\"text\"\n                placeholder=\"Height (e.g. 300 or 50%)\"\n                value={videoHeight}\n                onChange={e => setVideoHeight(e.target.value)}\n                className=\"richer-editor-input\"\n              />\n            </div>\n            <div className=\"richer-editor-textXs\">Leave blank for default size. Use px (e.g. 400) or % (e.g. 50%).</div>\n            <button\n              className=\"richer-editor-primaryBtn\"\n              onClick={handleVideoUrlInsert}\n              disabled={!videoUrl}\n            >\n              {t.video}\n            </button>\n          </CustomPopover>\n        </>\n      )}\n      {/* Alignment */}\n      {!excludeToolbarButtons.includes('alignLeft') && (\n        <button onClick={() => editor.chain().focus().setTextAlign(\"left\").run()} className={`richer-editor-button ${editor.isActive({ textAlign: \"left\" }) ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.alignLeft} title={t.alignLeft}><AlignLeft size={16} /></button>\n      )}\n      {!excludeToolbarButtons.includes('alignCenter') && (\n        <button onClick={() => editor.chain().focus().setTextAlign(\"center\").run()} className={`richer-editor-button ${editor.isActive({ textAlign: \"center\" }) ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.alignCenter} title={t.alignCenter}><AlignCenter size={16} /></button>\n      )}\n      {!excludeToolbarButtons.includes('alignRight') && (\n        <button onClick={() => editor.chain().focus().setTextAlign(\"right\").run()} className={`richer-editor-button ${editor.isActive({ textAlign: \"right\" }) ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.alignRight} title={t.alignRight}><AlignRight size={16} /></button>\n      )}\n      {!excludeToolbarButtons.includes('alignJustify') && (\n        <button onClick={() => editor.chain().focus().setTextAlign(\"justify\").run()} className={`richer-editor-button ${editor.isActive({ textAlign: \"justify\" }) ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={t.alignJustify} title={t.alignJustify}><AlignJustify size={16} /></button>\n      )}\n      {/* Text Color Picker */}\n      {!excludeToolbarButtons.includes('textColor') && (\n        <div className=\"richer-editor-colorpicker\" style={{height: 28}} title={t.textColor} aria-label={t.textColor}>\n          <TextColorIcon size={16} />\n          <input\n            type=\"color\"\n            value={editor.getAttributes('textStyle').color || '#000000'}\n            onChange={e => {\n              editor.commands.focus();\n              editor.commands.setColor(e.target.value);\n            }}\n            style={{ width: 20, height: 20, border: 'none', background: 'none', cursor: 'pointer', padding: 0 }}\n            className=\"richer-editor-colorInput\"\n          />\n        </div>\n      )}\n      {/* Background Color Picker */}\n      {!excludeToolbarButtons.includes('bgColor') && (\n        <div className=\"richer-editor-colorpicker\" style={{height: 28}} title={t.bgColor} aria-label={t.bgColor}>\n          <PaintBucket size={16} />\n          <input\n            type=\"color\"\n            value={editor.getAttributes('highlight').color || '#ffff00'}\n            onChange={e => {\n              editor.commands.focus();\n              editor.commands.setHighlight({ color: e.target.value });\n            }}\n            style={{ width: 20, height: 20, border: 'none', background: 'none', cursor: 'pointer', padding: 0 }}\n            className=\"richer-editor-colorInput\"\n          />\n        </div>\n      )}\n      {/* Subscript/Superscript Buttons */}\n      {!excludeToolbarButtons.includes('subscript') && (\n        <button\n          onClick={() => editor.chain().focus().toggleSubscript().run()}\n          className={`richer-editor-button ${editor.isActive('subscript') ? 'richer-editor-buttonActive' : ''}`}\n          type=\"button\"\n          title=\"Subscript\"\n          aria-label={t.subscript}\n        >\n          <SubscriptIcon size={16} />\n        </button>\n      )}\n      {!excludeToolbarButtons.includes('superscript') && (\n        <button\n          onClick={() => editor.chain().focus().toggleSuperscript().run()}\n          className={`richer-editor-button ${editor.isActive('superscript') ? 'richer-editor-buttonActive' : ''}`}\n          type=\"button\"\n          title=\"Superscript\"\n          aria-label={t.superscript}\n        >\n          <SuperscriptIcon size={16} />\n        </button>\n      )}\n       {/* Undo/Redo */}\n       <div className=\"richer-editor-ml2\"></div>\n      {!excludeToolbarButtons.includes('undo') && (\n        <button onClick={() => editor.chain().focus().undo().run()} className=\"richer-editor-button\" type=\"button\" aria-label={t.undo} title={t.undo}><UndoIcon size={16} /></button>\n      )}\n      {!excludeToolbarButtons.includes('redo') && (\n        <button onClick={() => editor.chain().focus().redo().run()} className=\"richer-editor-button\" type=\"button\" aria-label={t.redo} title={t.redo}><RedoIcon size={16} /></button>\n      )}\n    </div>\n  );\n};\n\nconst getSafeContent = (content: any, outputFormat: 'html' | 'json') => {\n  if (outputFormat === 'json') {\n    if (typeof content === 'object' && content !== null) {\n      return content;\n    }\n    if (typeof content === 'string') {\n      try {\n        const parsed = JSON.parse(content);\n        if (typeof parsed === 'object' && parsed !== null) {\n          return parsed;\n        }\n      } catch {\n        // ignore\n      }\n    }\n    // fallback to empty doc\n    return { type: 'doc', content: [{ type: 'paragraph' }] };\n  } else {\n    // outputFormat === 'html'\n    if (typeof content === 'string') {\n      return content;\n    }\n    if (typeof content === 'object' && content !== null) {\n      // Try to convert JSON to HTML using Tiptap's generateHTML if available\n      // But since we don't have access here, fallback to empty string\n      return '';\n    }\n    return '';\n  }\n};\n\nconst RicherEditor = ({\n  content = '',\n  onChange,\n  imageUploadUrl,\n  minHeight,\n  maxHeight,\n  editorProps = {},\n  outputFormat = 'html',\n  readOnly = false,\n  placeholder,\n  className = '',\n  excludeToolbarButtons = [],\n  style = {},\n  i18n = {},\n}: RicherEditorProps) => {\n  // Use safe content conversion\n  const safeContent = React.useMemo(() => getSafeContent(content, outputFormat), [content, outputFormat]);\n  const editor = useEditor({\n    extensions: [\n      StarterKit,\n      Link.configure({ openOnClick: true }),\n      Image,\n      Heading.configure({ levels: [1, 2, 3, 4, 5, 6] }),\n      CustomBulletList,\n      CustomOrderedList,\n      ListItem,\n      Bold,\n      Italic,\n      Underline,\n      Strike,\n      Blockquote,\n      CodeBlock,\n      HorizontalRule,\n      TextAlign.configure({ types: [\"heading\", \"paragraph\"] }),\n      Table.configure({ resizable: true }),\n      TableRow,\n      TableCell,\n      TableHeader,\n      Dropcursor,\n      Gapcursor,\n      TaskList,\n      TaskItem,\n      Superscript,\n      Subscript,\n      Typography,\n      Youtube.configure({\n        controls: true,\n        allowFullscreen: true,\n        width: 640,\n        height: 360,\n        HTMLAttributes: {\n          class: 'mx-auto my-4 rounded-lg shadow',\n        },\n      }),\n      Color, // <-- Color must come before TextStyle\n      TextStyle,\n      FontFamily,\n      FontSize,\n      Highlight.configure({\n        multicolor: true,\n      }),\n      Placeholder.configure({\n        placeholder: placeholder || 'Write something...'\n      }),\n    ],\n    content: safeContent,\n    editorProps: {\n      ...editorProps,\n      attributes: {\n        class: `richer-editor-textarea prose dark:prose-invert prose-sm sm:prose-base lg:prose-lg sm:prose-base prose-p:mt-0 prose-p:mb-1 leading-6 prose-blockquote:bg-muted/50 prose-blockquote:p-2 prose-blockquote:px-6 prose-blockquote:border-border prose-blockquote:not-italic prose-blockquote:rounded-r-lg [&_blockquote>p]:after:content-none [&_blockquote>p]:before:content-none  prose-li:marker:text-muted-foreground w-full max-w-full ${className || ''}`,\n        style: `${minHeight ? `min-height:${minHeight};` : ''}${editorProps?.attributes?.style || ''}`,\n        spellCheck: 'true',\n        readOnly: readOnly ? 'true' : undefined,\n        placeholder: placeholder || undefined,\n        ...editorProps?.attributes,\n      },\n    },\n    onUpdate({ editor }) {\n      if (onChange) {\n        if (outputFormat === 'json') {\n          onChange(editor.getJSON());\n        } else {\n          onChange(editor.getHTML());\n        }\n      }\n    },\n    editable: !readOnly,\n    immediatelyRender: false,\n  });\n\n  // If content prop changes, update the editor content\n  React.useEffect(() => {\n    if (editor && content !== undefined) {\n      const current = outputFormat === 'json' ? editor.getJSON() : editor.getHTML();\n      // Only update if different\n      if (outputFormat === 'json') {\n        let parsed: any = content;\n        if (typeof content === 'string') {\n          try {\n            parsed = JSON.parse(content);\n          } catch {\n            parsed = { type: 'doc', content: [{ type: 'paragraph' }] };\n          }\n        }\n        if (JSON.stringify(current) !== JSON.stringify(parsed)) {\n          editor.commands.setContent(getSafeContent(content, outputFormat));\n        }\n      } else {\n        // html\n        if (current !== content) {\n          editor.commands.setContent(getSafeContent(content, outputFormat));\n        }\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [content]);\n\n  return (\n    <div className={`richer-editor-roundedMdBorder ${className || ''}`} style={style}>\n      <MenuBar editor={editor} imageUploadUrl={imageUploadUrl} excludeToolbarButtons={excludeToolbarButtons} i18n={i18n} />\n      <div className=\"richer-editor-overflowAuto\" style={{maxHeight: maxHeight}}>\n        <EditorContent editor={editor} />\n      </div>\n    </div>\n  );\n};\n\nexport default RicherEditor;\n","// File: src/icons/BoldIcon.tsx\n// Icon color is controlled by parent (inherits 'currentColor'). For dark mode, ensure parent sets color to white or near-white.\nimport React from \"react\";\ninterface IconProps {\n    size?: number;\n    color?: string;\n    className?: string;\n}\nconst BoldIcon: React.FC<IconProps> = ({ size = 18, color = \"currentColor\", className }) => (\n <svg xmlns=\"http://www.w3.org/2000/svg\" width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" className={className}><path d=\"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8\"/></svg>\n);\nexport default BoldIcon;\n","// File: src/icons/ItalicIcon.tsx\n// Icon color is controlled by parent (inherits 'currentColor'). For dark mode, ensure parent sets color to white or near-white.\nimport React from 'react';\n\nconst ItalicIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <line x1=\"19\" x2=\"10\" y1=\"4\" y2=\"4\" />\n    <line x1=\"14\" x2=\"5\" y1=\"20\" y2=\"20\" />\n    <line x1=\"15\" x2=\"9\" y1=\"4\" y2=\"20\" />\n  </svg>\n);\n\nexport default ItalicIcon;","import React from 'react';\n\nconst UnderlineIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"M6 4v6a6 6 0 0 0 12 0V4\" />\n    <line x1=\"4\" x2=\"20\" y1=\"20\" y2=\"20\" />\n  </svg>\n);\n\nexport default UnderlineIcon;","// File: src/icons/StrikeIcon.tsx\n// Icon color is controlled by parent (inherits 'currentColor'). For dark mode, ensure parent sets color to white or near-white.\nimport React from 'react';\n\nconst StrikeIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"M16 4H9a3 3 0 0 0-2.83 4\" />\n    <path d=\"M14 12a4 4 0 0 1 0 8H8\" />\n    <line x1=\"4\" x2=\"20\" y1=\"12\" y2=\"12\" />\n  </svg>\n);\n\nexport default StrikeIcon;","import React from 'react';\n\nconst CodeIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"m18 16 4-4-4-4\" />\n    <path d=\"m6 8-4 4 4 4\" />\n    <path d=\"m14.5 4-5 16\" />\n  </svg>\n);\n\nexport default CodeIcon;","// File: src/icons/BulletListIcon.tsx\nimport React from 'react';\n\nconst BulletListIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <line x1=\"8\" x2=\"21\" y1=\"6\" y2=\"6\" />\n    <line x1=\"8\" x2=\"21\" y1=\"12\" y2=\"12\" />\n    <line x1=\"8\" x2=\"21\" y1=\"18\" y2=\"18\" />\n    <line x1=\"3\" x2=\"3.01\" y1=\"6\" y2=\"6\" />\n    <line x1=\"3\" x2=\"3.01\" y1=\"12\" y2=\"12\" />\n    <line x1=\"3\" x2=\"3.01\" y1=\"18\" y2=\"18\" />\n  </svg>\n);\n\nexport default BulletListIcon;","// File: src/icons/OrderedListIcon.tsx\nimport React from 'react';\n\nconst OrderedListIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"M10 12h11\"/><path d=\"M10 18h11\"/><path d=\"M10 6h11\"/><path d=\"M4 10h2\"/><path d=\"M4 6h1v4\"/><path d=\"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1\"/>\n  </svg>\n);\n\nexport default OrderedListIcon;\n\n","import React from 'react';\n\nconst TaskListIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\"     width={size}\n    height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}\n    {...props}><rect x=\"3\" y=\"5\" width=\"6\" height=\"6\" rx=\"1\"/><path d=\"m3 17 2 2 4-4\"/><path d=\"M13 6h8\"/><path d=\"M13 12h8\"/><path d=\"M13 18h8\"/></svg>\n);\n\nexport default TaskListIcon;\n\n","// File: src/icons/BlockquoteIcon.tsx\nimport React from 'react';\n\nconst BlockquoteIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n<svg xmlns=\"http://www.w3.org/2000/svg\" width={size}\n    height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} stroke-width=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}\n    {...props}><path d=\"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\"/><path d=\"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\"/></svg>\n);\n\nexport default BlockquoteIcon;\n\n","import React from 'react';\n\nconst LinkIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"/><path d=\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"/>\n  </svg>\n);\n\nexport default LinkIcon;\n","// File: src/icons/ImageIcon.tsx\n// Icon color is controlled by parent (inherits 'currentColor'). For dark mode, ensure parent sets color to white or near-white.\nimport React from 'react';\n\nconst ImageIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" />\n    <circle cx=\"9\" cy=\"9\" r=\"2\" />\n    <path d=\"m21 15-4.35-4.35a2 2 0 0 0-2.83 0L3 21\" />\n  </svg>\n);\n\nexport default ImageIcon;","// File: src/icons/TableIcon.tsx\n// Icon color is controlled by parent (inherits 'currentColor'). For dark mode, ensure parent sets color to white or near-white.\nimport React from 'react';\n\nconst TableIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" />\n    <path d=\"M3 9h18\" />\n    <path d=\"M3 15h18\" />\n    <path d=\"M9 3v18\" />\n    <path d=\"M15 3v18\" />\n  </svg>\n);\n\nexport default TableIcon;","import React from 'react';\n\nconst UndoIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"M3 7v6h6\"/><path d=\"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13\"/>\n  </svg>\n);\n\nexport default UndoIcon;\n","import React from 'react';\n\nconst RedoIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"M21 7v6h-6\"/><path d=\"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7\"/>\n  </svg>\n);\n\nexport default RedoIcon;\n\n","// File: src/icons/AlignLeft.tsx\nimport React from 'react';\n\nconst AlignLeft = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <line x1=\"21\" x2=\"3\" y1=\"6\" y2=\"6\" />\n    <line x1=\"15\" x2=\"3\" y1=\"12\" y2=\"12\" />\n    <line x1=\"17\" x2=\"3\" y1=\"18\" y2=\"18\" />\n  </svg>\n);\n\nexport default AlignLeft;","// File: src/icons/AlignCenter.tsx\nimport React from 'react';\n\nconst AlignCenter = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <line x1=\"21\" x2=\"3\" y1=\"6\" y2=\"6\" />\n    <line x1=\"17\" x2=\"7\" y1=\"12\" y2=\"12\" />\n    <line x1=\"19\" x2=\"5\" y1=\"18\" y2=\"18\" />\n  </svg>\n);\n\nexport default AlignCenter;","// File: src/icons/AlignRight.tsx\nimport React from 'react';\n\nconst AlignRight = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <line x1=\"21\" x2=\"3\" y1=\"6\" y2=\"6\" />\n    <line x1=\"21\" x2=\"9\" y1=\"12\" y2=\"12\" />\n    <line x1=\"21\" x2=\"7\" y1=\"18\" y2=\"18\" />\n  </svg>\n);\n\nexport default AlignRight;","// File: src/icons/AlignJustify.tsx\nimport React from 'react';\n\nconst AlignJustify = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <line x1=\"21\" x2=\"3\" y1=\"6\" y2=\"6\" />\n    <line x1=\"21\" x2=\"3\" y1=\"12\" y2=\"12\" />\n    <line x1=\"21\" x2=\"3\" y1=\"18\" y2=\"18\" />\n  </svg>\n);\n\nexport default AlignJustify;","import React from 'react';\n\nconst Highlighter = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"m9 11-6 6v3h9l3-3\" />\n    <path d=\"M22 15 11 4l-3 3 11 11 3-3Z\" />\n  </svg>\n);\n\nexport default Highlighter;","import React from 'react';\n\nconst Heading1 = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"M4 12h8\" />\n    <path d=\"M4 18V6\" />\n    <path d=\"M12 18V6\" />\n    <path d=\"M17 12v-1h-2V9h3\" />\n  </svg>\n);\n\nexport default Heading1;","import React from 'react';\n\nconst Heading2 = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"M4 12h8\" />\n    <path d=\"M4 18V6\" />\n    <path d=\"M12 18V6\" />\n    <path d=\"M17 12a2 2 0 1 1 0 4h-3\" />\n    <path d=\"M19 16v.01\" />\n  </svg>\n);\n\nexport default Heading2;","// File: src/icons/Heading3.tsx\nimport React from 'react';\n\nconst Heading3 = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"M4 12h8\" />\n    <path d=\"M4 18V6\" />\n    <path d=\"M12 18V6\" />\n    <path d=\"M17 14a2 2 0 1 0 0-4h-2\" />\n    <path d=\"M15 16a2 2 0 1 0 0 4h2\" />\n  </svg>\n);\n\nexport default Heading3;","import React from 'react';\n\nconst Heading4 = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"M4 12h8\" />\n    <path d=\"M4 18V6\" />\n    <path d=\"M12 18V6\" />\n    <path d=\"M17 18v-8l-2 2\" />\n    <path d=\"M15 14h4\" />\n  </svg>\n);\n\nexport default Heading4;","import React from 'react';\n\nconst Heading5 = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"M4 12h8\" />\n    <path d=\"M4 18V6\" />\n    <path d=\"M12 18V6\" />\n    <path d=\"M17 13.5V12a2 2 0 0 1 2-2h0a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-2v2h4\" />\n  </svg>\n);\n\nexport default Heading5;","// File: src/icons/Heading6.tsx\nimport React from 'react';\n\nconst Heading6 = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"M4 12h8\" />\n    <path d=\"M4 18V6\" />\n    <path d=\"M12 18V6\" />\n    <circle cx=\"19\" cy=\"16\" r=\"2\" />\n    <path d=\"M19 14v-2\" />\n  </svg>\n);\n\nexport default Heading6;","import React from 'react';\n\nconst VideoIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5\"/><rect x=\"2\" y=\"6\" width=\"14\" height=\"12\" rx=\"2\"/>\n  </svg>\n);\n\nexport default VideoIcon;\n","// File: src/icons/SubscriptIcon.tsx\nimport React from 'react';\n\nconst SubscriptIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"m4 5 8 8\"/><path d=\"m12 5-8 8\"/><path d=\"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07\"/>\n  </svg>\n);\n\nexport default SubscriptIcon;\n","// File: src/icons/SuperscriptIcon.tsx\nimport React from 'react';\n\nconst SuperscriptIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"m4 19 8-8\"/><path d=\"m12 19-8-8\"/><path d=\"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06\"/>\n  </svg>\n);\n\nexport default SuperscriptIcon;\n","// File: src/icons/PaintBucket.tsx\nimport React from 'react';\n\nconst PaintBucket = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z\"/><path d=\"m5 2 5 5\"/><path d=\"M2 13h15\"/><path d=\"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z\"/>\n  </svg>\n);\n\nexport default PaintBucket;\n\n","// File: src/icons/TextColorIcon.tsx\nimport React from 'react';\n\nconst TextColorIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke={color}\n    strokeWidth={2}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className={className}\n    {...props}\n  >\n    <path d=\"M12 4v16\"/><path d=\"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2\"/><path d=\"M9 20h6\"/>\n  </svg>\n);\n\nexport default TextColorIcon;\n","import { BulletList } from '@tiptap/extension-bullet-list';\nimport { mergeAttributes } from '@tiptap/core';\n\nexport const CustomBulletList = BulletList.extend({\n  addAttributes() {\n    return {\n      ...this.parent?.(),\n      listStyleType: {\n        default: 'disc',\n        parseHTML: element => element.style.listStyleType || 'disc',\n        renderHTML: attributes => {\n          return {\n            style: `list-style-type: ${attributes.listStyleType || 'disc'}`,\n          };\n        },\n      },\n    };\n  },\n  renderHTML({ HTMLAttributes }) {\n    return ['ul', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n});","import { OrderedList } from '@tiptap/extension-ordered-list';\nimport { mergeAttributes } from '@tiptap/core';\n\nexport const CustomOrderedList = OrderedList.extend({\n  addAttributes() {\n    return {\n      ...this.parent?.(),\n      listStyleType: {\n        default: 'decimal',\n        parseHTML: element => element.style.listStyleType || 'decimal',\n        renderHTML: attributes => {\n          return {\n            style: `list-style-type: ${attributes.listStyleType || 'decimal'}`,\n          };\n        },\n      },\n    };\n  },\n  renderHTML({ HTMLAttributes }) {\n    return ['ol', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n});","// File: src/components/ui/CustomSelect.tsx\nimport React, { useState, useRef, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport './CustomSelect.css';\nimport { cn } from \"@/lib/utils\";\n\ninterface Option {\n  value: string;\n  label: React.ReactNode;\n}\n\ninterface CustomSelectProps {\n  value: string;\n  options: Option[];\n  onChange: (value: string) => void;\n  className?: string;\n  placeholder?: string; // e.g. 'Font Size', 'Font Family', etc.\n  label?: string; // for accessibility and visual clarity\n}\n\nconst CustomSelect: React.FC<CustomSelectProps> = ({ value, options, onChange, className, placeholder, label }) => {\n  const [open, setOpen] = useState(false);\n  const [highlighted, setHighlighted] = useState<number>(-1);\n  const triggerRef = useRef<HTMLButtonElement>(null);\n  const listRef = useRef<HTMLUListElement>(null);\n  const [dropdownPos, setDropdownPos] = useState<{top: number, left: number, width: number}>({top: 0, left: 0, width: 0});\n\n  useEffect(() => {\n    if (open && triggerRef.current) {\n      const rect = triggerRef.current.getBoundingClientRect();\n      setDropdownPos({\n        top: rect.bottom + window.scrollY,\n        left: rect.left + window.scrollX,\n        width: rect.width\n      });\n    }\n  }, [open]);\n\n  useEffect(() => {\n    if (open && listRef.current && highlighted >= 0) {\n      const el = listRef.current.children[highlighted] as HTMLElement;\n      if (el) el.scrollIntoView({ block: 'nearest' });\n    }\n  }, [open, highlighted]);\n\n  useEffect(() => {\n    if (!open) setHighlighted(-1);\n  }, [open]);\n\n  useEffect(() => {\n    function handleClickOutside(e: MouseEvent) {\n      if (\n        triggerRef.current &&\n        !triggerRef.current.contains(e.target as Node) &&\n        listRef.current &&\n        !listRef.current.contains(e.target as Node)\n      ) {\n        setOpen(false);\n      }\n    }\n    if (open) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [open]);\n\n  function handleKeyDown(e: React.KeyboardEvent) {\n    if (!open) {\n      if (e.key === 'ArrowDown' || e.key === 'Enter' || e.key === ' ') {\n        setOpen(true);\n        setHighlighted(0);\n        e.preventDefault();\n      }\n      return;\n    }\n    if (e.key === 'ArrowDown') {\n      setHighlighted(h => Math.min(h + 1, options.length - 1));\n      e.preventDefault();\n    } else if (e.key === 'ArrowUp') {\n      setHighlighted(h => Math.max(h - 1, 0));\n      e.preventDefault();\n    } else if (e.key === 'Enter' || e.key === ' ') {\n      if (highlighted >= 0) {\n        onChange(options[highlighted].value);\n        setOpen(false);\n      }\n      e.preventDefault();\n    } else if (e.key === 'Escape') {\n      setOpen(false);\n      e.preventDefault();\n    }\n  }\n\n  function handleOptionClick(idx: number) {\n    onChange(options[idx].value);\n    setOpen(false);\n  }\n\n  const selectedOption = options.find(o => o.value === value);\n\n  return (\n    <div className={cn(\"selectWrapper\", className)}\n      tabIndex={0}\n      onBlur={e => {\n        if (!e.currentTarget.contains(e.relatedTarget as Node)) setOpen(false);\n      }}\n      style={{display: 'inline-block'}}\n    >\n      {label && <div className=\"label\">{label}</div>}\n      <button\n        ref={triggerRef}\n        className=\"trigger\"\n        aria-haspopup=\"listbox\"\n        aria-expanded={open}\n        onClick={() => setOpen(o => !o)}\n        onKeyDown={handleKeyDown}\n        type=\"button\"\n      >\n        <span className={selectedOption ? undefined : \"placeholder\"}>\n          {selectedOption ? selectedOption.label : placeholder || 'Select...'}\n        </span>\n        <span className=\"chevron\" aria-hidden>▼</span>\n      </button>\n      {open && ReactDOM.createPortal(\n        <ul\n          className=\"options\"\n          ref={listRef}\n          role=\"listbox\"\n          tabIndex={-1}\n          style={{\n            position: 'absolute',\n            top: dropdownPos.top,\n            left: dropdownPos.left,\n            minWidth: dropdownPos.width,\n            maxWidth: 200,\n            zIndex: 2000\n          }}\n        >\n          {options.map((opt, idx) => (\n            <li\n              key={opt.value}\n              className={\n                `option ${value === opt.value ? \"selected\" : ''} ${highlighted === idx ? \"highlighted\" : ''}`\n              }\n              role=\"option\"\n              aria-selected={value === opt.value}\n              onMouseDown={e => { e.preventDefault(); handleOptionClick(idx); }}\n              onMouseEnter={() => setHighlighted(idx)}\n            >\n              {opt.label}\n            </li>\n          ))}\n        </ul>,\n        document.body\n      )}\n    </div>\n  );\n};\n\nexport default CustomSelect;","import { clsx, type ClassValue } from \"clsx\"\n\n/**\n * Merges class names using clsx.\n * @param {...ClassValue[]} inputs - Class names, arrays, or objects to merge\n * @returns {string} The merged class string\n */\nexport function cn(...inputs: ClassValue[]): string {\n  // Use clsx to merge class names\n  return clsx(...inputs)\n}\n","// File: src/components/ui/CustomPopover.tsx\nimport React, { useRef, useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { cn } from \"@/lib/utils\";\n\n// Import CSS inside the component so it is bundled\nimport './CustomPopover.css';\n\ninterface CustomPopoverProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  anchorEl: HTMLElement | null;\n  children: React.ReactNode;\n  className?: string;\n  closeButton?: boolean;\n  onEsc?: () => void;\n}\n\nconst CustomPopover: React.FC<CustomPopoverProps> = ({ open, onOpenChange, anchorEl, children, className, closeButton, onEsc }) => {\n  const popoverRef = useRef<HTMLDivElement>(null);\n  const [position, setPosition] = useState<{ top: number; left: number }>({ top: 0, left: 0 });\n\n  useEffect(() => {\n    if (open && anchorEl) {\n      const rect = anchorEl.getBoundingClientRect();\n      setPosition({\n        top: rect.bottom + window.scrollY + 8,\n        left: rect.left + window.scrollX,\n      });\n    }\n  }, [open, anchorEl]);\n\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (popoverRef.current && !popoverRef.current.contains(event.target as Node) && anchorEl && !anchorEl.contains(event.target as Node)) {\n        onOpenChange(false);\n      }\n    }\n    function handleKeyDown(event: KeyboardEvent) {\n      if (event.key === 'Escape') {\n        if (onEsc) onEsc();\n        else onOpenChange(false);\n      }\n    }\n    if (open) {\n      document.addEventListener('mousedown', handleClickOutside);\n      document.addEventListener('keydown', handleKeyDown);\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [open, onOpenChange, anchorEl, onEsc]);\n\n  if (!open || !anchorEl) return null;\n  return ReactDOM.createPortal(\n    <div\n      ref={popoverRef}\n      className={cn(\"popover\", className)}\n      style={{ top: position.top, left: position.left, position: 'absolute', zIndex: 1000 }}\n      tabIndex={-1}\n      role=\"dialog\"\n    >\n      {closeButton && (\n        <button\n          className=\"closeBtn\"\n          aria-label=\"Close\"\n          onClick={() => onOpenChange(false)}\n          style={{ position: 'absolute', top: 8, right: 8 }}\n        >\n          ×\n        </button>\n      )}\n      {children}\n    </div>,\n    document.body\n  );\n};\n\nexport default CustomPopover;","'use client';\n// File: frontend/src/components/tiptap/SmallTiptapEditor.tsx\nimport React, { useCallback, useState } from \"react\";\nimport { useEditor, EditorContent } from \"@tiptap/react\";\nimport StarterKit from \"@tiptap/starter-kit\";\nimport Link from \"@tiptap/extension-link\";\nimport Image from \"@tiptap/extension-image\";\nimport Bold from \"@tiptap/extension-bold\";\nimport Underline from \"@tiptap/extension-underline\";\nimport Highlight from '@tiptap/extension-highlight';\nimport CodeBlock from \"@tiptap/extension-code-block\";\nimport Youtube from '@tiptap/extension-youtube';\nimport TextAlign from \"@tiptap/extension-text-align\";\nimport { ListItem } from \"@tiptap/extension-list-item\";\nimport { BulletList } from \"@tiptap/extension-bullet-list\";\nimport { OrderedList } from \"@tiptap/extension-ordered-list\";\nimport { TextStyle } from '@tiptap/extension-text-style';\nimport FontSize from '@tiptap/extension-font-size';\nimport Placeholder from '@tiptap/extension-placeholder';\nimport CustomSelect from './ui/CustomSelect';\nimport CustomPopover from './ui/CustomPopover';\nimport BoldIcon from '../icons/BoldIcon';\nimport UnderlineIcon from '../icons/UnderlineIcon';\nimport Highlighter from '../icons/Highlighter';\nimport CodeIcon from '../icons/CodeIcon';\nimport BulletListIcon from '../icons/BulletListIcon';\nimport OrderedListIcon from '../icons/OrderedListIcon';\nimport LinkIcon from '../icons/LinkIcon';\nimport ImageIcon from '../icons/ImageIcon';\nimport VideoIcon from '../icons/VideoIcon';\nimport AlignLeft from '../icons/AlignLeft';\nimport AlignCenter from '../icons/AlignCenter';\nimport AlignRight from '../icons/AlignRight';\nimport AlignJustify from '../icons/AlignJustify';\nimport FontSizeIcon from '../icons/FontSizeIcon';\n\n// Import CSS inside the component so it is bundled\nimport './RicherEditor.css';\n\nconst fontSizes = [\n  { name: '10px', value: '10px' },\n  { name: '12px', value: '12px' },\n  { name: '14px', value: '14px' },\n  { name: '16px', value: '16px' },\n  { name: '18px', value: '18px' },\n  { name: '20px', value: '20px' },\n  { name: '22px', value: '22px' },\n  { name: '24px', value: '24px' },\n  { name: '26px', value: '26px' },\n  { name: '28px', value: '28px' },\n  { name: '30px', value: '30px' },\n  { name: '32px', value: '32px' },\n];\n\nconst alignmentOptions = [\n  { value: 'left', label: <AlignLeft size={18} />, name: 'Left' },\n  { value: 'center', label: <AlignCenter size={18} />, name: 'Center' },\n  { value: 'right', label: <AlignRight size={18} />, name: 'Right' },\n  { value: 'justify', label: <AlignJustify size={18} />, name: 'Justify' },\n];\n\n// Add defaultI18n for button labels\nconst defaultI18n = {\n  bold: 'Bold',\n  underline: 'Underline',\n  highlight: 'Highlight',\n  code: 'Code Block',\n  bulletList: 'Bullet List',\n  orderedList: 'Ordered List',\n  link: 'Insert/Edit Link',\n  image: 'Insert Image',\n  video: 'Insert YouTube Video',\n  align: 'Align',\n  insert: 'Insert',\n  remove: 'Remove',\n  add: 'Add',\n  cancel: 'Cancel',\n  fontSize: 'Font Size',\n};\n\n// Update MenuBar to accept excludeToolbarButtons and i18n\nconst MenuBar = ({ editor, imageUploadUrl, excludeToolbarButtons = [], i18n = {} }: { editor: any, imageUploadUrl?: string, excludeToolbarButtons?: string[], i18n?: Record<string, string> }) => {\n  const [imagePopoverOpen, setImagePopoverOpen] = useState(false);\n  const [imageTab, setImageTab] = useState<'url' | 'upload'>('url');\n  const [imageUrl, setImageUrl] = useState('');\n  const [imageWidth, setImageWidth] = useState('');\n  const [imageHeight, setImageHeight] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [uploadError, setUploadError] = useState<string | null>(null);\n  const [uploadedImageUrl, setUploadedImageUrl] = useState('');\n  const [imageFile, setImageFile] = useState<File | null>(null);\n  const [videoPopoverOpen, setVideoPopoverOpen] = useState(false);\n  const [videoUrl, setVideoUrl] = useState('');\n  const [videoWidth, setVideoWidth] = useState('');\n  const [videoHeight, setVideoHeight] = useState('');\n  const [linkPopoverOpen, setLinkPopoverOpen] = useState(false);\n  const [linkUrl, setLinkUrl] = useState('');\n  const linkButtonRef = React.useRef<HTMLButtonElement>(null);\n  const imageButtonRef = React.useRef<HTMLButtonElement>(null);\n  const videoButtonRef = React.useRef<HTMLButtonElement>(null);\n\n  const t = { ...defaultI18n, ...i18n };\n\n  // Helper for image by URL\n  const handleImageUrlInsert = useCallback(() => {\n    if (imageUrl) {\n      const attrs: any = { src: imageUrl };\n      if (imageWidth) attrs.width = imageWidth;\n      if (imageHeight) attrs.height = imageHeight;\n      editor.chain().focus().setImage(attrs).run();\n      setImagePopoverOpen(false);\n      setImageUrl('');\n      setImageWidth('');\n      setImageHeight('');\n    }\n  }, [editor, imageUrl, imageWidth, imageHeight]);\n\n  // Helper for image upload\n  const handleImageUpload = async (file: File) => {\n    if (!imageUploadUrl) return;\n    setUploading(true);\n    setUploadError(null);\n    setUploadedImageUrl('');\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      // If tiptap expects a specific field name, adjust here\n      const response = await fetch(imageUploadUrl, {\n        method: 'POST',\n        body: formData,\n      });\n      if (!response.ok) throw new Error('Upload failed');\n      const data = await response.json();\n      // Tiptap expects { link: 'url' } or similar; adjust as needed\n      const url = data.link || data.url || data.src || '';\n      if (!url) throw new Error('No image URL returned');\n      setUploadedImageUrl(url);\n    } catch (err: any) {\n      setUploadError(err.message || 'Upload failed');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleUploadInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setImageFile(file);\n      handleImageUpload(file);\n    }\n  };\n\n  const handleUploadedImageInsert = () => {\n    if (uploadedImageUrl) {\n      const attrs: any = { src: uploadedImageUrl };\n      if (imageWidth) attrs.width = imageWidth;\n      if (imageHeight) attrs.height = imageHeight;\n      editor.chain().focus().setImage(attrs).run();\n      setImagePopoverOpen(false);\n      setUploadedImageUrl('');\n      setImageFile(null);\n      setImageWidth('');\n      setImageHeight('');\n      setUploadError(null);\n      setImageTab('url');\n    }\n  };\n\n  // Helper for video embedding (popover)\n  const handleVideoUrlInsert = useCallback(() => {\n    if (videoUrl) {\n      const attrs: any = { src: videoUrl };\n      if (videoWidth) attrs.width = videoWidth;\n      if (videoHeight) attrs.height = videoHeight;\n      editor.chain().focus().setYoutubeVideo(attrs).run();\n      setVideoPopoverOpen(false);\n      setVideoUrl('');\n      setVideoWidth('');\n      setVideoHeight('');\n    }\n  }, [editor, videoUrl, videoWidth, videoHeight]);\n\n  // Helper for link insertion (popover)\n  const handleLinkInsert = useCallback(() => {\n    if (linkUrl) {\n      editor.chain().focus().setLink({ href: linkUrl }).run();\n      setLinkPopoverOpen(false);\n      setLinkUrl('');\n    }\n  }, [editor, linkUrl]);\n  const handleLinkUnset = useCallback(() => {\n    editor.chain().focus().unsetLink().run();\n    setLinkPopoverOpen(false);\n    setLinkUrl('');\n  }, [editor]);\n\n  if (!editor) return null;\n\n  return (\n    <>\n      <div className=\"richer-editor-toolbar global-toolbar\">\n        {/* Font Size Dropdown */}\n        {!excludeToolbarButtons.includes('fontSize') && (\n          <CustomSelect\n            value={editor.getAttributes('fontSize').fontSize || ''}\n            options={fontSizes.map(f => ({ value: f.value, label: f.name }))}\n            onChange={val => editor.chain().focus().setFontSize(val).run()}\n            className=\"richer-editor-select\"\n            placeholder={t.fontSize || 'Font Size'}\n            aria-label={t.fontSize || 'Font Size'}\n          />\n        )}\n        <div className=\"toolbar-divider\" />\n        {/* Bold */}\n        {!excludeToolbarButtons.includes('bold') && (\n          <button onClick={() => editor.chain().focus().toggleBold().run()} className={`richer-editor-button${editor.isActive(\"bold\") ? ' richer-editor-buttonActive' : ''}`} type=\"button\" aria-label={t.bold} title={t.bold}><BoldIcon size={16} /></button>\n        )}\n        {/* Underline */}\n        {!excludeToolbarButtons.includes('underline') && (\n          <button onClick={() => editor.chain().focus().toggleUnderline().run()} className={`richer-editor-button${editor.isActive(\"underline\") ? ' richer-editor-buttonActive' : ''}`} type=\"button\" aria-label={t.underline} title={t.underline}><UnderlineIcon size={16} /></button>\n        )}\n        {/* Highlighter (single color) */}\n        {!excludeToolbarButtons.includes('highlight') && (\n          <button onClick={() => editor.chain().focus().toggleHighlight({ color: '#fff59d' }).run()} className={`richer-editor-button${editor.isActive(\"highlight\") ? ' richer-editor-buttonActive' : ''}`} type=\"button\" aria-label={t.highlight} title={t.highlight}><Highlighter size={16} /></button>\n        )}\n        {/* Code block */}\n        {!excludeToolbarButtons.includes('code') && (\n          <button onClick={() => editor.chain().focus().toggleCodeBlock().run()} className={`richer-editor-button${editor.isActive(\"codeBlock\") ? ' richer-editor-buttonActive' : ''}`} type=\"button\" aria-label={t.code} title={t.code}><CodeIcon size={16} /></button>\n        )}\n        <div className=\"toolbar-divider\" />\n        {/* Unordered List */}\n        {!excludeToolbarButtons.includes('bulletList') && (\n          <button onClick={() => editor.chain().focus().toggleBulletList().run()} className={`richer-editor-button${editor.isActive(\"bulletList\") ? ' richer-editor-buttonActive' : ''}`} type=\"button\" aria-label={t.bulletList} title={t.bulletList}><BulletListIcon size={16} /></button>\n        )}\n        {/* Ordered List */}\n        {!excludeToolbarButtons.includes('orderedList') && (\n          <button onClick={() => editor.chain().focus().toggleOrderedList().run()} className={`richer-editor-button${editor.isActive(\"orderedList\") ? ' richer-editor-buttonActive' : ''}`} type=\"button\" aria-label={t.orderedList} title={t.orderedList}><OrderedListIcon size={16} /></button>\n        )}\n        <div className=\"toolbar-divider\" />\n        {/* Link Popover */}\n        {!excludeToolbarButtons.includes('link') && (\n          <>\n            <button\n              ref={linkButtonRef}\n              onClick={() => {\n                setLinkPopoverOpen((open) => !open);\n                setLinkUrl(editor.getAttributes('link').href || '');\n              }}\n              className={`richer-editor-button${editor.isActive(\"link\") ? ' richer-editor-buttonActive' : ''}`}\n              type=\"button\"\n              aria-label={t.link}\n              title={t.link}\n            >\n              <LinkIcon size={16} />\n            </button>\n            <CustomPopover\n              open={linkPopoverOpen}\n              onOpenChange={setLinkPopoverOpen}\n              anchorEl={linkButtonRef.current}\n              closeButton\n              onEsc={() => setLinkPopoverOpen(false)}\n            >\n              <div className=\"mb-2 font-semibold text-base\">{t.link}</div>\n              <input\n                type=\"text\"\n                placeholder=\"Paste link URL here...\"\n                value={linkUrl}\n                onChange={e => setLinkUrl(e.target.value)}\n                className=\"richer-editor-input\"\n                autoFocus\n              />\n              <div className=\"richer-editor-flexRow\">\n                <button\n                  className=\"richer-editor-primaryBtn\"\n                  onClick={handleLinkInsert}\n                  disabled={!linkUrl}\n                >\n                  {t.insert}\n                </button>\n                <button\n                  className=\"richer-editor-secondaryBtn\"\n                  onClick={handleLinkUnset}\n                  disabled={!editor.isActive('link')}\n                >\n                  {t.remove}\n                </button>\n              </div>\n            </CustomPopover>\n          </>\n        )}\n        {/* Image Popover */}\n        {!excludeToolbarButtons.includes('image') && (\n          <>\n            <button\n              ref={imageButtonRef}\n              onClick={() => {\n                setImagePopoverOpen((open) => !open);\n                if (!imageUploadUrl) setImageTab('url');\n              }}\n              className=\"richer-editor-button\"\n              type=\"button\"\n              aria-label={t.image}\n              title={t.image}\n            >\n              <ImageIcon size={16} />\n            </button>\n            <CustomPopover\n              open={imagePopoverOpen}\n              onOpenChange={setImagePopoverOpen}\n              anchorEl={imageButtonRef.current}\n              closeButton\n              onEsc={() => setImagePopoverOpen(false)}\n            >\n              <div className=\"mb-2 font-semibold text-base flex gap-4 border-b pb-2\">\n                <button className={`richer-editor-button${imageTab === 'url' ? ' richer-editor-buttonActive' : ''}`} onClick={() => setImageTab('url')}>URL</button>\n                {imageUploadUrl && (\n                  <button className={`richer-editor-button${imageTab === 'upload' ? ' richer-editor-buttonActive' : ''}`} onClick={() => setImageTab('upload')}>Upload</button>\n                )}\n              </div>\n              {imageTab === 'url' && (\n                <>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Paste image URL here...\"\n                    value={imageUrl}\n                    onChange={e => setImageUrl(e.target.value)}\n                    className=\"richer-editor-input\"\n                    autoFocus\n                  />\n                  <div className=\"richer-editor-flexRowMb2\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"Width (e.g. 400 or 50%)\"\n                      value={imageWidth}\n                      onChange={e => setImageWidth(e.target.value)}\n                      className=\"richer-editor-input\"\n                    />\n                    <input\n                      type=\"text\"\n                      placeholder=\"Height (e.g. 300 or 50%)\"\n                      value={imageHeight}\n                      onChange={e => setImageHeight(e.target.value)}\n                      className=\"richer-editor-input\"\n                    />\n                  </div>\n                  <div className=\"richer-editor-textXs\">Leave blank for default size. Use px (e.g. 400) or % (e.g. 50%).</div>\n                  <button\n                    className=\"richer-editor-primaryBtn\"\n                    onClick={handleImageUrlInsert}\n                    disabled={!imageUrl}\n                  >\n                    {t.image}\n                  </button>\n                </>\n              )}\n              {imageTab === 'upload' && imageUploadUrl && (\n                <>\n                  {!uploadedImageUrl && (\n                    <>\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={handleUploadInputChange}\n                        className=\"mb2\"\n                        disabled={uploading}\n                      />\n                      {uploading && <div className=\"text-sm text-blue-600 mb-2\">Uploading...</div>}\n                      {uploadError && <div className=\"text-sm text-red-600 mb-2\">{uploadError}</div>}\n                    </>\n                  )}\n                  {uploadedImageUrl && (\n                    <>\n                      <div className=\"mb-2 flex flex-col items-center\">\n                        <img src={uploadedImageUrl} alt=\"Preview\" className=\"max-h-40 max-w-full rounded border mb-2\" />\n                      </div>\n                      <div className=\"richer-editor-flexRowMb2\">\n                        <input\n                          type=\"text\"\n                          placeholder=\"Width (e.g. 400 or 50%)\"\n                          value={imageWidth}\n                          onChange={e => setImageWidth(e.target.value)}\n                          className=\"richer-editor-input\"\n                        />\n                        <input\n                          type=\"text\"\n                          placeholder=\"Height (e.g. 300 or 50%)\"\n                          value={imageHeight}\n                          onChange={e => setImageHeight(e.target.value)}\n                          className=\"richer-editor-input\"\n                        />\n                      </div>\n                      <div className=\"richer-editor-flexRow\">\n                        <button\n                          className=\"richer-editor-primaryBtn\"\n                          onClick={handleUploadedImageInsert}\n                        >\n                          {t.add}\n                        </button>\n                        <button\n                          className=\"richer-editor-secondaryBtn\"\n                          onClick={() => {\n                            setUploadedImageUrl('');\n                            setImageFile(null);\n                            setImageWidth('');\n                            setImageHeight('');\n                            setUploadError(null);\n                          }}\n                        >\n                          {t.cancel}\n                        </button>\n                      </div>\n                    </>\n                  )}\n                </>\n              )}\n            </CustomPopover>\n          </>\n        )}\n        {/* Video Popover */}\n        {!excludeToolbarButtons.includes('video') && (\n          <>\n            <button\n              ref={videoButtonRef}\n              onClick={() => setVideoPopoverOpen((open) => !open)}\n              className=\"richer-editor-button\"\n              type=\"button\"\n              aria-label={t.video}\n              title={t.video}\n            >\n              <VideoIcon size={16} />\n            </button>\n            <CustomPopover\n              open={videoPopoverOpen}\n              onOpenChange={setVideoPopoverOpen}\n              anchorEl={videoButtonRef.current}\n              closeButton\n              onEsc={() => setVideoPopoverOpen(false)}\n            >\n              <div className=\"mb-2 font-semibold text-base\">{t.video}</div>\n              <input\n                type=\"text\"\n                placeholder=\"Paste YouTube video URL here...\"\n                value={videoUrl}\n                onChange={e => setVideoUrl(e.target.value)}\n                className=\"richer-editor-input\"\n                autoFocus\n              />\n              <div className=\"richer-editor-flexRowMb2\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Width (e.g. 400 or 50%)\"\n                  value={videoWidth}\n                  onChange={e => setVideoWidth(e.target.value)}\n                  className=\"richer-editor-input\"\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"Height (e.g. 300 or 50%)\"\n                  value={videoHeight}\n                  onChange={e => setVideoHeight(e.target.value)}\n                  className=\"richer-editor-input\"\n                />\n              </div>\n              <div className=\"richer-editor-textXs\">Leave blank for default size. Use px (e.g. 400) or % (e.g. 50%).</div>\n              <button\n                className=\"richer-editor-primaryBtn\"\n                onClick={handleVideoUrlInsert}\n                disabled={!videoUrl}\n              >\n                {t.video}\n              </button>\n            </CustomPopover>\n          </>\n        )}\n        {/* Alignment Dropdown */}\n        {!excludeToolbarButtons.includes('align') && (\n          <CustomSelect\n            value={editor.getAttributes('textAlign') || 'left'}\n            options={alignmentOptions.map(opt => ({ value: opt.value, label: <>{opt.label} {opt.name}</> }))}\n            onChange={val => editor.chain().focus().setTextAlign(val).run()}\n            className=\"richer-editor-select\"\n            placeholder={t.align}\n          />\n        )}\n      </div>\n    </>\n  );\n};\n\n// Update SmallRicherEditorProps to match RicherEditor\ninterface SmallRicherEditorProps {\n  content?: string | object;\n  onChange?: (value: string | object) => void;\n  imageUploadUrl?: string;\n  placeholder?: string;\n  minHeight?: string;\n  maxHeight?: string;\n  editorProps?: any;\n  outputFormat?: 'html' | 'json';\n  readOnly?: boolean;\n  className?: string;\n  style?: React.CSSProperties;\n  excludeToolbarButtons?: string[];\n  i18n?: Record<string, string>;\n}\n\nconst getSafeContent = (content: any, outputFormat: 'html' | 'json') => {\n  if (outputFormat === 'json') {\n    if (typeof content === 'object' && content !== null) {\n      return content;\n    }\n    if (typeof content === 'string') {\n      try {\n        const parsed = JSON.parse(content);\n        if (typeof parsed === 'object' && parsed !== null) {\n          return parsed;\n        }\n      } catch {\n        // ignore\n      }\n    }\n    // fallback to empty doc\n    return { type: 'doc', content: [{ type: 'paragraph' }] };\n  } else {\n    // outputFormat === 'html'\n    if (typeof content === 'string') {\n      return content;\n    }\n    if (typeof content === 'object' && content !== null) {\n      // Try to convert JSON to HTML using Tiptap's generateHTML if available\n      // But since we don't have access here, fallback to empty string\n      return '';\n    }\n    return '';\n  }\n};\n\nconst SmallRicherEditor  = ({\n  content = '',\n  onChange,\n  imageUploadUrl,\n  placeholder,\n  minHeight,\n  maxHeight,\n  editorProps = {},\n  outputFormat = 'html',\n  readOnly = false,\n  className = '',\n  style = {},\n  excludeToolbarButtons = [],\n  i18n = {},\n}: SmallRicherEditorProps) => {\n  // Use safe content conversion\n  const safeContent = React.useMemo(() => getSafeContent(content, outputFormat), [content, outputFormat]);\n  const editor = useEditor({\n    extensions: [\n      StarterKit,\n      Link.configure({ openOnClick: true }),\n      Image,\n      Bold,\n      Underline,\n      Highlight.configure({ multicolor: false, HTMLAttributes: { style: 'background-color: #fff59d' } }),\n      CodeBlock,\n      BulletList,\n      OrderedList,\n      ListItem,\n      TextAlign.configure({ types: [\"paragraph\"] }),\n      Youtube.configure({\n        controls: true,\n        allowFullscreen: true,\n        width: 640,\n        height: 360,\n        HTMLAttributes: {\n          class: 'mx-auto my-4 rounded-lg shadow',\n        },\n      }),\n      TextStyle,\n      FontSize,\n      Placeholder.configure({\n        placeholder: placeholder || 'Write something...'\n      }),\n    ],\n    content: safeContent,\n    editorProps: {\n      ...editorProps,\n      attributes: {\n        class: `richer-editor-textarea prose dark:prose-invert prose-sm prose-p:mt-0 prose-p:mb-1 leading-6 prose-blockquote:bg-muted/50 prose-blockquote:p-2 prose-blockquote:px-6 prose-blockquote:border-border prose-blockquote:not-italic prose-blockquote:rounded-r-lg [&_blockquote>p]:after:content-none [&_blockquote>p]:before:content-none  prose-li:marker:text-muted-foreground w-full max-w-full ${className || ''}`,\n        style: `${minHeight ? `min-height:${minHeight};` : ''}${editorProps?.attributes?.style || ''}`,\n        spellCheck: 'true',\n        readOnly: readOnly ? 'true' : undefined,\n        ...editorProps?.attributes,\n      },\n    },\n    onUpdate({ editor }) {\n      if (onChange) {\n        if (outputFormat === 'json') {\n          onChange(editor.getJSON());\n        } else {\n          onChange(editor.getHTML());\n        }\n      }\n    },\n    editable: !readOnly,\n    immediatelyRender: false,\n  });\n\n  // In the useEffect, compare against safeContent instead of content\n  React.useEffect(() => {\n    if (editor && content !== undefined) {\n      const current = outputFormat === 'json' ? editor.getJSON() : editor.getHTML();\n      // Only update if different\n      if (outputFormat === 'json') {\n        let parsed: any = content;\n        if (typeof content === 'string') {\n          try {\n            parsed = JSON.parse(content);\n          } catch {\n            parsed = { type: 'doc', content: [{ type: 'paragraph' }] };\n          }\n        }\n        if (JSON.stringify(current) !== JSON.stringify(parsed)) {\n          editor.commands.setContent(getSafeContent(content, outputFormat));\n        }\n      } else {\n        // html\n        if (current !== content) {\n          editor.commands.setContent(getSafeContent(content, outputFormat));\n        }\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [content]);\n\n  return (\n      <div className={`richer-editor-roundedMdBorder ${className || ''}`} style={style}>\n        <MenuBar editor={editor} imageUploadUrl={imageUploadUrl} excludeToolbarButtons={excludeToolbarButtons} i18n={i18n} />\n        <div className=\"richer-editor-overflowAuto\" style={{maxHeight: maxHeight}}>\n          <EditorContent editor={editor} />\n        </div>\n      </div>\n  );\n};\n\nexport default SmallRicherEditor;","import React from 'react';\nimport { cn } from \"@/lib/utils\"\n\nconst RicherContent = ({ content, className = '' }: { content: string, className?: string }) => {\n\n    return (\n        <div className={cn(`prose dark:prose-invert\n        prose-sm\n        lg:prose-lg\n        sm:prose-base //to make font medium\n        prose-p:mt-0\n        prose-p:mb-1\n        leading-6\n\n        prose-blockquote:bg-muted/50\n        prose-blockquote:p-2\n        prose-blockquote:px-6\n        prose-blockquote:border-border\n        prose-blockquote:not-italic\n        prose-blockquote:rounded-r-lg\n        [&_blockquote>p]:after:content-none\n        [&_blockquote>p]:before:content-none\n\n        prose-li:marker:text-muted-foreground\n        w-full\n        max-w-full`, className)}>\n            <div\n                className=\"max-w-none\"\n                dangerouslySetInnerHTML={{ __html: content || \"\" }}\n            />\n        </div>\n    )\n}\n\nexport default RicherContent\n"],"mappings":"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","names":["React","useState","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","React","mergeAttributes","React","React","React","useRef","useState","useEffect","ReactDOM","useRef","useState","useEffect","ReactDOM","React","React","useState","React","editor","React","useCallback","useState","useEditor","EditorContent","StarterKit","Link","Image","Bold","Underline","Highlight","CodeBlock","Youtube","TextAlign","ListItem","BulletList","OrderedList","TextStyle","FontSize","Placeholder","fontSizes","React","defaultI18n","MenuBar","useState","useCallback","getSafeContent","useEditor","StarterKit","Link","Image","Bold","Underline","Highlight","CodeBlock","BulletList","OrderedList","ListItem","TextAlign","Youtube","TextStyle","FontSize","Placeholder","editor","EditorContent","React","React"]}