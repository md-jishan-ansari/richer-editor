{"version":3,"sources":["../src/components/index.ts","../src/components/RicherEditor.tsx","../src/icons/BoldIcon.tsx","../src/icons/ItalicIcon.tsx","../src/icons/UnderlineIcon.tsx","../src/icons/StrikeIcon.tsx","../src/icons/CodeIcon.tsx","../src/icons/BulletListIcon.tsx","../src/icons/OrderedListIcon.tsx","../src/icons/TaskListIcon.tsx","../src/icons/BlockquoteIcon.tsx","../src/icons/LinkIcon.tsx","../src/icons/ImageIcon.tsx","../src/icons/UndoIcon.tsx","../src/icons/RedoIcon.tsx","../src/icons/AlignLeft.tsx","../src/icons/AlignCenter.tsx","../src/icons/AlignRight.tsx","../src/icons/AlignJustify.tsx","../src/icons/Highlighter.tsx","../src/icons/Heading1.tsx","../src/icons/Heading2.tsx","../src/icons/Heading3.tsx","../src/icons/Heading4.tsx","../src/icons/Heading5.tsx","../src/icons/Heading6.tsx","../src/icons/VideoIcon.tsx","../src/icons/SubscriptIcon.tsx","../src/icons/SuperscriptIcon.tsx","../src/icons/PaintBucket.tsx","../src/icons/TextColorIcon.tsx","../node_modules/@tiptap/extension-list/src/bullet-list/bullet-list.ts","../node_modules/@tiptap/extension-list/src/item/list-item.ts","../node_modules/@tiptap/extension-list/src/keymap/list-keymap.ts","../node_modules/@tiptap/extension-list/src/keymap/listHelpers/index.ts","../node_modules/@tiptap/extension-list/src/keymap/listHelpers/findListItemPos.ts","../node_modules/@tiptap/extension-list/src/keymap/listHelpers/getNextListDepth.ts","../node_modules/@tiptap/extension-list/src/keymap/listHelpers/handleBackspace.ts","../node_modules/@tiptap/extension-list/src/keymap/listHelpers/hasListBefore.ts","../node_modules/@tiptap/extension-list/src/keymap/listHelpers/hasListItemBefore.ts","../node_modules/@tiptap/extension-list/src/keymap/listHelpers/listItemHasSubList.ts","../node_modules/@tiptap/extension-list/src/keymap/listHelpers/handleDelete.ts","../node_modules/@tiptap/extension-list/src/keymap/listHelpers/nextListIsDeeper.ts","../node_modules/@tiptap/extension-list/src/keymap/listHelpers/nextListIsHigher.ts","../node_modules/@tiptap/extension-list/src/keymap/listHelpers/hasListItemAfter.ts","../node_modules/@tiptap/extension-list/src/kit/index.ts","../node_modules/@tiptap/extension-list/src/ordered-list/ordered-list.ts","../node_modules/@tiptap/extension-list/src/task-item/task-item.ts","../node_modules/@tiptap/extension-list/src/task-list/task-list.ts","../src/components/tiptap-extensions/CustomBulletList.ts","../src/components/tiptap-extensions/CustomOrderedList.ts","../src/components/ui/CustomSelect.tsx","../src/lib/utils.ts","../src/components/ui/CustomPopover.tsx","../src/components/SmallRicherEditor.tsx","../src/icons/FontSizeIcon.tsx","../src/icons/Heading.tsx","../src/components/RicherContent.tsx"],"sourcesContent":["export { default as RicherEditor } from './RicherEditor';\r\nexport { default as SmallRicherEditor } from './SmallRicherEditor';\r\nexport { default as RicherContent } from './RicherContent';\r\nexport * from './tiptap-extensions/CustomBulletList';\r\nexport * from './tiptap-extensions/CustomOrderedList';","\r\nimport React, { useCallback, useState, useRef } from \"react\";\r\nimport { useEditor, EditorContent } from \"@tiptap/react\";\r\nimport StarterKit from \"@tiptap/starter-kit\";\r\nimport Link from \"@tiptap/extension-link\";\r\nimport TextAlign from \"@tiptap/extension-text-align\";\r\nimport TaskList from \"@tiptap/extension-task-list\";\r\nimport TaskItem from \"@tiptap/extension-task-item\";\r\nimport Superscript from \"@tiptap/extension-superscript\";\r\nimport Subscript from \"@tiptap/extension-subscript\";\r\nimport Image from \"@tiptap/extension-image\";\r\n\r\nimport Youtube from '@tiptap/extension-youtube';\r\nimport Highlight from '@tiptap/extension-highlight';\r\n\r\nimport { TextStyle } from '@tiptap/extension-text-style';\r\nimport FontFamily from '@tiptap/extension-font-family';\r\nimport FontSize from '@tiptap/extension-font-size';\r\nimport Color from '@tiptap/extension-color';\r\n\r\nimport BoldIcon from '../icons/BoldIcon';\r\nimport ItalicIcon from '../icons/ItalicIcon';\r\nimport UnderlineIcon from '../icons/UnderlineIcon';\r\nimport StrikeIcon from '../icons/StrikeIcon';\r\nimport CodeIcon from '../icons/CodeIcon';\r\nimport BulletListIcon from '../icons/BulletListIcon';\r\nimport OrderedListIcon from '../icons/OrderedListIcon';\r\nimport TaskListIcon from '../icons/TaskListIcon';\r\nimport BlockquoteIcon from '../icons/BlockquoteIcon';\r\nimport LinkIcon from '../icons/LinkIcon';\r\nimport ImageIcon from '../icons/ImageIcon';\r\nimport UndoIcon from '../icons/UndoIcon';\r\nimport RedoIcon from '../icons/RedoIcon';\r\nimport AlignLeft from '../icons/AlignLeft';\r\nimport AlignCenter from '../icons/AlignCenter';\r\nimport AlignRight from '../icons/AlignRight';\r\nimport AlignJustify from '../icons/AlignJustify';\r\nimport Highlighter from '../icons/Highlighter';\r\nimport Heading1 from '../icons/Heading1';\r\nimport Heading2 from '../icons/Heading2';\r\nimport Heading3 from '../icons/Heading3';\r\nimport Heading4 from '../icons/Heading4';\r\nimport Heading5 from '../icons/Heading5';\r\nimport Heading6 from '../icons/Heading6';\r\nimport VideoIcon from '../icons/VideoIcon';\r\nimport SubscriptIcon from '../icons/SubscriptIcon';\r\nimport SuperscriptIcon from '../icons/SuperscriptIcon';\r\nimport PaintBucket from '../icons/PaintBucket';\r\nimport TextColorIcon from '../icons/TextColorIcon';\r\n\r\n\r\nimport { CustomBulletList } from './tiptap-extensions/CustomBulletList';\r\nimport { CustomOrderedList } from './tiptap-extensions/CustomOrderedList';\r\nimport CustomSelect from './ui/CustomSelect';\r\nimport CustomPopover from './ui/CustomPopover';\r\n\r\n// Import CSS inside the component so it is bundled\r\nimport './RicherEditor.css';\r\nimport { getSafeContent } from \"@/lib/utils\";\r\n\r\nfunction isSafeUrl(url: string): boolean {\r\n  try {\r\n    const parsed = new URL(url, window.location.origin);\r\n    return (\r\n      [\"http:\", \"https:\"].includes(parsed.protocol) ||\r\n      (parsed.protocol === \"data:\" && url.startsWith(\"data:image/\"))\r\n    );\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nconst fontSizes = [\r\n  { name: '10px', value: '10px' },\r\n  { name: '12px', value: '12px' },\r\n  { name: '14px', value: '14px' },\r\n  { name: '16px', value: '16px' },\r\n  { name: '18px', value: '18px' },\r\n  { name: '20px', value: '20px' },\r\n  { name: '22px', value: '22px' },\r\n  { name: '24px', value: '24px' },\r\n  { name: '26px', value: '26px' },\r\n  { name: '28px', value: '28px' },\r\n  { name: '32px', value: '32px' },\r\n  { name: '36px', value: '36px' },\r\n  { name: '40px', value: '40px' },\r\n  { name: '48px', value: '48px' },\r\n  { name: '56px', value: '56px' },\r\n  { name: '64px', value: '64px' },\r\n];\r\n\r\nconst fontFamilies = [\r\n  { name: 'Sans-serif', value: 'sans-serif' },\r\n  { name: 'Serif', value: 'serif' },\r\n  { name: 'Monospace', value: 'monospace' },\r\n  { name: 'Arial', value: 'Arial, sans-serif' },\r\n  { name: 'Helvetica', value: 'Helvetica, Arial, sans-serif' },\r\n  { name: 'Times New Roman', value: 'Times New Roman, Times, serif' },\r\n  { name: 'Georgia', value: 'Georgia, serif' },\r\n  { name: 'Courier New', value: 'Courier New, Courier, monospace' },\r\n  { name: 'Verdana', value: 'Verdana, Geneva, sans-serif' },\r\n  { name: 'Trebuchet MS', value: 'Trebuchet MS, sans-serif' },\r\n  { name: 'Palatino', value: 'Palatino, serif' },\r\n  { name: 'Garamond', value: 'Garamond, serif' },\r\n  { name: 'Comic Sans MS', value: 'Comic Sans MS, cursive, sans-serif' },\r\n  { name: 'Impact', value: 'Impact, Charcoal, sans-serif' },\r\n  { name: 'Lucida Console', value: 'Lucida Console, Monaco, monospace' },\r\n  { name: 'Tahoma', value: 'Tahoma, Geneva, sans-serif' },\r\n  { name: 'Optima', value: 'Optima, sans-serif' },\r\n  { name: 'Futura', value: 'Futura, sans-serif' },\r\n  { name: 'Franklin Gothic', value: 'Franklin Gothic Medium, Arial Narrow, Arial, sans-serif' },\r\n  { name: 'Century Gothic', value: 'Century Gothic, sans-serif' },\r\n];\r\nconst headingOptions = [\r\n  { level: 1, label: <Heading1 size={18} /> },\r\n  { level: 2, label: <Heading2 size={18} /> },\r\n  { level: 3, label: <Heading3 size={18} /> },\r\n  { level: 4, label: <Heading4 size={18} /> },\r\n  { level: 5, label: <Heading5 size={18} /> },\r\n  { level: 6, label: <Heading6 size={18} /> },\r\n];\r\nconst lineHeights = [\r\n  { name: 'Single', value: '1' },\r\n  { name: '1.15', value: '1.15' },\r\n  { name: '1.5', value: '1.5' },\r\n  { name: 'Double', value: '2' },\r\n  { name: '2.5', value: '2.5' },\r\n  { name: '3', value: '3' },\r\n];\r\n\r\nconst unorderedListStyles = [\r\n  { name: 'Disc', value: 'disc', icon: '●', aria: 'Disc' },\r\n  { name: 'Circle', value: 'circle', icon: '○', aria: 'Circle' },\r\n  { name: 'Square', value: 'square', icon: '■', aria: 'Square' },\r\n];\r\nconst orderedListStyles = [\r\n  { name: 'Decimal', value: 'decimal', icon: '1.', aria: 'Decimal' },\r\n  { name: 'Lower Alpha', value: 'lower-alpha', icon: 'a.', aria: 'Lower Alpha' },\r\n  { name: 'Upper Alpha', value: 'upper-alpha', icon: 'A.', aria: 'Upper Alpha' },\r\n  { name: 'Lower Roman', value: 'lower-roman', icon: 'i.', aria: 'Lower Roman' },\r\n  { name: 'Upper Roman', value: 'upper-roman', icon: 'I.', aria: 'Upper Roman' },\r\n];\r\n\r\n// Update RicherEditorProps to accept only { json: object }\r\ninterface RicherEditorProps {\r\n  content?: { json?: object | string, html?: string };\r\n  onChange?: (value: { html: string; json: object | string }) => void;\r\n  imageUploadUrl?: string;\r\n  minHeight?: string;\r\n  maxHeight?: string;\r\n  editorProps?: any;\r\n  className?: string;\r\n  excludeToolbarButtons?: string[];\r\n  i18n?: Record<string, string>;\r\n  fontSizeOptions?: { name: string; value: string }[];\r\n  fontFamilyOptions?: { name: string; value: string }[];\r\n  extensions?: any[]; // Allow user to pass additional TipTap extensions\r\n  customToolbarButtons?: React.ReactNode | ((editor: any) => React.ReactNode);\r\n}\r\n\r\ntype ToolbarButtonKey =\r\n  | 'heading'\r\n  | 'fontSize'\r\n  | 'fontFamily'\r\n  | 'bold'\r\n  | 'italic'\r\n  | 'underline'\r\n  | 'strike'\r\n  | 'highlight'\r\n  | 'code'\r\n  | 'bulletList'\r\n  | 'orderedList'\r\n  | 'taskList'\r\n  | 'blockquote'\r\n  | 'hr'\r\n  | 'table'\r\n  | 'link'\r\n  | 'image'\r\n  | 'video'\r\n  | 'alignLeft'\r\n  | 'alignCenter'\r\n  | 'alignRight'\r\n  | 'alignJustify'\r\n  | 'textColor'\r\n  | 'bgColor'\r\n  | 'subscript'\r\n  | 'superscript'\r\n  | 'undo'\r\n  | 'redo';\r\n\r\nconst defaultI18n = {\r\n  heading: 'Heading',\r\n  fontSize: 'Font Size',\r\n  fontFamily: 'Font Family',\r\n  bold: 'Bold',\r\n  italic: 'Italic',\r\n  underline: 'Underline',\r\n  strike: 'Strikethrough',\r\n  highlight: 'Highlight',\r\n  code: 'Code Block',\r\n  bulletList: 'Bullet List',\r\n  orderedList: 'Ordered List',\r\n  taskList: 'Task List',\r\n  blockquote: 'Blockquote',\r\n  hr: 'Horizontal Rule',\r\n  table: 'Insert Table',\r\n  link: 'Insert/Edit Link',\r\n  image: 'Insert Image',\r\n  video: 'Insert YouTube Video',\r\n  alignLeft: 'Align Left',\r\n  alignCenter: 'Align Center',\r\n  alignRight: 'Align Right',\r\n  alignJustify: 'Align Justify',\r\n  textColor: 'Text Color',\r\n  bgColor: 'Background Color',\r\n  subscript: 'Subscript',\r\n  superscript: 'Superscript',\r\n  undo: 'Undo',\r\n  redo: 'Redo',\r\n  insert: 'Insert',\r\n  remove: 'Remove',\r\n  add: 'Add',\r\n  cancel: 'Cancel',\r\n};\r\n\r\nconst MenuBar = ({ editor, imageUploadUrl, excludeToolbarButtons = [], i18n = {}, fontSizeOptions, fontFamilyOptions, customToolbarButtons }: {\r\n  editor: any,\r\n  imageUploadUrl?: string,\r\n  excludeToolbarButtons?: string[],\r\n  i18n?: Record<string, string>,\r\n  fontSizeOptions?: { name: string; value: string }[],\r\n  fontFamilyOptions?: { name: string; value: string }[],\r\n  customToolbarButtons?: React.ReactNode | ((editor: any) => React.ReactNode)\r\n}) => {\r\n  // Popover state for link, image, video\r\n  const [imagePopoverOpen, setImagePopoverOpen] = useState(false);\r\n  const [imageTab, setImageTab] = useState<'url' | 'upload'>('url');\r\n  const [imageUrl, setImageUrl] = useState('');\r\n  const [imageWidth, setImageWidth] = useState('');\r\n  const [imageHeight, setImageHeight] = useState('');\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadError, setUploadError] = useState<string | null>(null);\r\n  const [uploadedImageUrl, setUploadedImageUrl] = useState('');\r\n  const [imageFile, setImageFile] = useState<File | null>(null);\r\n  const [videoPopoverOpen, setVideoPopoverOpen] = useState(false);\r\n  const [videoUrl, setVideoUrl] = useState('');\r\n  const [videoWidth, setVideoWidth] = useState('');\r\n  const [videoHeight, setVideoHeight] = useState('');\r\n  const [linkPopoverOpen, setLinkPopoverOpen] = useState(false);\r\n  const [linkUrl, setLinkUrl] = useState('');\r\n  const [linkTarget, setLinkTarget] = useState('_blank');\r\n\r\n  const linkButtonRef = React.useRef<HTMLButtonElement>(null);\r\n  const imageButtonRef = React.useRef<HTMLButtonElement>(null);\r\n  const videoButtonRef = React.useRef<HTMLButtonElement>(null);\r\n\r\n  // State and refs for color pickers\r\n  const [textColorPopoverOpen, setTextColorPopoverOpen] = React.useState(false);\r\n  const textColorButtonRef = React.useRef<HTMLButtonElement>(null);\r\n  const [bgColorPopoverOpen, setBgColorPopoverOpen] = React.useState(false);\r\n  const bgColorButtonRef = React.useRef<HTMLButtonElement>(null);\r\n\r\n  // Helper for image by URL\r\n  const handleImageUrlInsert = useCallback(() => {\r\n    if (imageUrl && isSafeUrl(imageUrl)) {\r\n      const attrs: any = { src: imageUrl };\r\n      if (imageWidth) attrs.width = imageWidth;\r\n      if (imageHeight) attrs.height = imageHeight;\r\n      editor.chain().focus().setImage(attrs).run();\r\n      setImagePopoverOpen(false);\r\n      setImageUrl('');\r\n      setImageWidth('');\r\n      setImageHeight('');\r\n    } else if (imageUrl) {\r\n      window.alert('Invalid or unsafe image URL.');\r\n    }\r\n  }, [editor, imageUrl, imageWidth, imageHeight]);\r\n\r\n  // Helper for image upload\r\n  const handleImageUpload = async (file: File) => {\r\n    setUploading(true);\r\n    setUploadError(null);\r\n    setUploadedImageUrl('');\r\n    try {\r\n      let url = '';\r\n      if (imageUploadUrl) {\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n        const response = await fetch(imageUploadUrl, {\r\n          method: 'POST',\r\n          body: formData,\r\n        });\r\n        if (!response.ok) throw new Error('Upload failed');\r\n        const data = await response.json();\r\n        url = data.link || data.url || data.src || '';\r\n      }\r\n      if (!url) throw new Error('No image URL returned');\r\n      setUploadedImageUrl(url);\r\n    } catch (err: any) {\r\n      setUploadError(err.message || 'Upload failed');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleUploadInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setImageFile(file);\r\n      handleImageUpload(file);\r\n    }\r\n  };\r\n\r\n  const handleUploadedImageInsert = () => {\r\n    if (uploadedImageUrl) {\r\n      const attrs: any = { src: uploadedImageUrl };\r\n      if (imageWidth) attrs.width = imageWidth;\r\n      if (imageHeight) attrs.height = imageHeight;\r\n      editor.chain().focus().setImage(attrs).run();\r\n      setImagePopoverOpen(false);\r\n      setUploadedImageUrl('');\r\n      setImageFile(null);\r\n      setImageWidth('');\r\n      setImageHeight('');\r\n      setUploadError(null);\r\n      setImageTab('url');\r\n    }\r\n  };\r\n\r\n  // Helper for video embedding (popover)\r\n  const handleVideoUrlInsert = useCallback(() => {\r\n    if (videoUrl && isSafeUrl(videoUrl)) {\r\n      const attrs: any = { src: videoUrl };\r\n      if (videoWidth) attrs.width = videoWidth;\r\n      if (videoHeight) attrs.height = videoHeight;\r\n      editor.chain().focus().setYoutubeVideo(attrs).run();\r\n      setVideoPopoverOpen(false);\r\n      setVideoUrl('');\r\n      setVideoWidth('');\r\n      setVideoHeight('');\r\n    } else if (videoUrl) {\r\n      window.alert('Invalid or unsafe video URL.');\r\n    }\r\n  }, [editor, videoUrl, videoWidth, videoHeight]);\r\n\r\n  // Helper for link insertion (popover)\r\n  const handleLinkInsert = useCallback(() => {\r\n    if (linkUrl && isSafeUrl(linkUrl)) {\r\n      editor.chain().focus().setLink({ href: linkUrl, target: linkTarget }).run();\r\n      setLinkPopoverOpen(false);\r\n      setLinkUrl('');\r\n      setLinkTarget('_blank');\r\n    } else if (linkUrl) {\r\n      window.alert('Invalid or unsafe link URL.');\r\n    }\r\n  }, [editor, linkUrl, linkTarget]);\r\n  const handleLinkUnset = useCallback(() => {\r\n    editor.chain().focus().unsetLink().run();\r\n    setLinkPopoverOpen(false);\r\n    setLinkUrl('');\r\n  }, [editor]);\r\n\r\n  if (!editor) return null;\r\n\r\n  const labels = { ...defaultI18n, ...i18n };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"richer-editor-toolbar\">\r\n        {/* Headings Dropdown */}\r\n        {!excludeToolbarButtons.includes('heading') && (\r\n          <>\r\n            <CustomSelect\r\n              value={(() => {\r\n                const activeHeading = headingOptions.find(opt => editor.isActive('heading', { level: opt.level }));\r\n                return activeHeading ? activeHeading.level.toString() : '';\r\n              })()}\r\n              options={[\r\n                { value: 'paragraph', label: 'Paragraph' },\r\n                ...headingOptions.map(opt => ({ value: opt.level.toString(), label: `H${opt.level}` }))\r\n              ]}\r\n              onChange={(val: string) => {\r\n                if (val === 'paragraph') {\r\n                  editor.chain().focus().setParagraph().run();\r\n                } else {\r\n                  editor.chain().focus().toggleHeading({ level: Number(val) }).run();\r\n                }\r\n              }}\r\n              className=\"richer-editor-select\"\r\n              placeholder=\"Heading\"\r\n              aria-label=\"Heading Level\"\r\n            />\r\n            <div className=\"toolbar-divider\" />\r\n          </>\r\n        )}\r\n        {/* Font Size Dropdown */}\r\n        {!excludeToolbarButtons.includes('fontSize') && (\r\n          <CustomSelect\r\n            value={editor.getAttributes('fontSize').fontSize || ''}\r\n            options={(fontSizeOptions || fontSizes).map(f => ({ value: f.value, label: f.name }))}\r\n            onChange={(val: string) => editor.chain().focus().setFontSize(val).run()}\r\n            className=\"richer-editor-select\"\r\n            placeholder=\"Font Size\"\r\n            aria-label=\"Font Size\"\r\n          />\r\n        )}\r\n        {/* Font Family Dropdown */}\r\n        {!excludeToolbarButtons.includes('fontFamily') && (\r\n          <>\r\n            <CustomSelect\r\n              value={editor.getAttributes('fontFamily').fontFamily || ''}\r\n              options={(fontFamilyOptions || fontFamilies).map(f => ({\r\n                value: f.value,\r\n                label: <span style={{ fontFamily: f.value }}>{f.name}</span>\r\n              }))}\r\n              onChange={(val: string) => editor.chain().focus().setFontFamily(val).run()}\r\n              className=\"richer-editor-select\"\r\n              placeholder=\"Font Family\"\r\n              aria-label=\"Font Family\"\r\n            />\r\n            <div className=\"toolbar-divider\" />\r\n          </>\r\n        )}\r\n        {/* Font styles */}\r\n        {!excludeToolbarButtons.includes('bold') && (\r\n          <button onClick={() => editor.chain().focus().toggleBold().run()} className={`richer-editor-button ${editor.isActive(\"bold\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.bold} title={labels.bold}><BoldIcon size={16} /></button>\r\n        )}\r\n        {!excludeToolbarButtons.includes('italic') && (\r\n          <button onClick={() => editor.chain().focus().toggleItalic().run()} className={`richer-editor-button ${editor.isActive(\"italic\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.italic} title={labels.italic}><ItalicIcon size={16} /></button>\r\n        )}\r\n        {!excludeToolbarButtons.includes('underline') && (\r\n          <button onClick={() => editor.chain().focus().toggleUnderline().run()} className={`richer-editor-button ${editor.isActive(\"underline\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.underline} title={labels.underline}><UnderlineIcon size={16} /></button>\r\n        )}\r\n        {!excludeToolbarButtons.includes('strike') && (\r\n          <button onClick={() => editor.chain().focus().toggleStrike().run()} className={`richer-editor-button ${editor.isActive(\"strike\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.strike} title={labels.strike}><StrikeIcon size={16} /></button>\r\n        )}\r\n        {!excludeToolbarButtons.includes('highlight') && (\r\n          <button onClick={() => editor.chain().focus().toggleHighlight().run()} className={`richer-editor-button ${editor.isActive(\"highlight\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.highlight} title={labels.highlight}><Highlighter size={16} /></button>\r\n        )}\r\n        {!excludeToolbarButtons.includes('code') && (\r\n          <>\r\n            <button onClick={() => editor.chain().focus().toggleCodeBlock().run()} className={`richer-editor-button ${editor.isActive(\"codeBlock\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.code} title={labels.code}><CodeIcon size={16} /></button>\r\n            <div className=\"toolbar-divider\" />\r\n          </>\r\n        )}\r\n        {/* Lists */}\r\n        {!excludeToolbarButtons.includes('bulletList') && (\r\n          <>\r\n            <button onClick={() => editor.chain().focus().toggleBulletList().run()} className={`richer-editor-button ${editor.isActive(\"bulletList\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.bulletList} title={labels.bulletList}><BulletListIcon size={16} /></button>\r\n            {/* Unordered List Style Dropdown */}\r\n            <CustomSelect\r\n              value={editor.getAttributes('bulletList').listStyleType || ''}\r\n              options={unorderedListStyles.map(opt => ({ value: opt.value, label: <>{opt.icon} {opt.name}</> }))}\r\n              onChange={(val: string) => {\r\n                if (editor.isActive('bulletList')) {\r\n                  editor.chain().focus().updateAttributes('bulletList', { listStyleType: val }).run();\r\n                } else {\r\n                  window.alert('Please place the cursor inside an unordered list to change its style.');\r\n                }\r\n              }}\r\n              className=\"richer-editor-select\"\r\n              placeholder=\"UL Style\"\r\n              aria-label=\"Unordered List Style\"\r\n            />\r\n          </>\r\n        )}\r\n\r\n        {!excludeToolbarButtons.includes('orderedList') && (\r\n          <>\r\n            <button onClick={() => editor.chain().focus().toggleOrderedList().run()} className={`richer-editor-button ${editor.isActive(\"orderedList\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.orderedList} title={labels.orderedList}><OrderedListIcon size={16} /></button>\r\n            {/* Ordered List Style Dropdown */}\r\n            <CustomSelect\r\n              value={editor.getAttributes('orderedList').listStyleType || ''}\r\n              options={orderedListStyles.map(opt => ({ value: opt.value, label: <>{opt.icon} {opt.name}</> }))}\r\n              onChange={(val: string) => {\r\n                if (editor.isActive('orderedList')) {\r\n                  editor.chain().focus().updateAttributes('orderedList', { listStyleType: val }).run();\r\n                } else {\r\n                  window.alert('Please place the cursor inside an ordered list to change its style.');\r\n                }\r\n              }}\r\n              className=\"richer-editor-select\"\r\n              placeholder=\"OL Style\"\r\n              aria-label=\"Ordered List Style\"\r\n            />\r\n          </>\r\n        )}\r\n\r\n        {!excludeToolbarButtons.includes('taskList') && (\r\n          <button onClick={() => editor.chain().focus().toggleTaskList().run()} className={`richer-editor-button ${editor.isActive(\"taskList\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.taskList} title={labels.taskList}><TaskListIcon size={16} /></button>\r\n        )}\r\n        <div className=\"toolbar-divider\" />\r\n        {/* Blockquote, hr */}\r\n        {!excludeToolbarButtons.includes('blockquote') && (\r\n          <button onClick={() => editor.chain().focus().toggleBlockquote().run()} className={`richer-editor-button ${editor.isActive(\"blockquote\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.blockquote} title={labels.blockquote}><BlockquoteIcon size={16} /></button>\r\n        )}\r\n        {!excludeToolbarButtons.includes('hr') && (\r\n          <>\r\n            <button onClick={() => editor.chain().focus().setHorizontalRule().run()} className=\"richer-editor-button\" type=\"button\" aria-label={labels.hr} title={labels.hr}>HR</button>\r\n            <div className=\"toolbar-divider\" />\r\n          </>\r\n        )}\r\n\r\n        {/* Link Popover */}\r\n        {!excludeToolbarButtons.includes('link') && (\r\n          <>\r\n            <button\r\n              ref={linkButtonRef}\r\n              onClick={() => {\r\n                setLinkPopoverOpen((open) => !open);\r\n                setLinkUrl(editor.getAttributes('link').href || '');\r\n                setLinkTarget(editor.getAttributes('link').target || '_blank');\r\n              }}\r\n              className={`richer-editor-button${editor.isActive(\"link\") ? ' richer-editor-buttonActive' : ''}`}\r\n              type=\"button\"\r\n              aria-label={labels.link}\r\n              title={labels.link}\r\n            >\r\n              <LinkIcon size={16} />\r\n            </button>\r\n            <CustomPopover\r\n              open={linkPopoverOpen}\r\n              onOpenChange={setLinkPopoverOpen}\r\n              anchorEl={linkButtonRef.current}\r\n              closeButton\r\n              onEsc={() => setLinkPopoverOpen(false)}\r\n            >\r\n              <div className=\"mb-2 font-semibold text-base\">Insert Link</div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Paste link URL here...\"\r\n                value={linkUrl}\r\n                onChange={e => setLinkUrl(e.target.value)}\r\n                className=\"richer-editor-input\"\r\n                autoFocus\r\n              />\r\n              <select\r\n                name=\"target\"\r\n                value={linkTarget}\r\n                onChange={e => setLinkTarget(e.target.value)}\r\n                className=\"richer-editor-input\"\r\n                style={{ marginBottom: 8 }}\r\n              >\r\n                <option value=\"_blank\">New Tab (_blank)</option>\r\n                <option value=\"_self\">Same Tab (_self)</option>\r\n                <option value=\"_parent\">Parent Frame (_parent)</option>\r\n                <option value=\"_top\">Top Frame (_top)</option>\r\n              </select>\r\n              <div className=\"richer-editor-flexRow\">\r\n                <button\r\n                  className=\"richer-editor-primaryBtn\"\r\n                  onClick={handleLinkInsert}\r\n                  disabled={!linkUrl}\r\n                >\r\n                  {labels.insert}\r\n                </button>\r\n                <button\r\n                  className=\"richer-editor-secondaryBtn\"\r\n                  onClick={handleLinkUnset}\r\n                  disabled={!editor.isActive('link')}\r\n                >\r\n                  {labels.remove}\r\n                </button>\r\n              </div>\r\n            </CustomPopover>\r\n          </>\r\n        )}\r\n        {/* Image Popover */}\r\n        {!excludeToolbarButtons.includes('image') && (\r\n          <>\r\n            <button\r\n              ref={imageButtonRef}\r\n              onClick={() => {\r\n                setImagePopoverOpen((open) => !open);\r\n                if (!imageUploadUrl) setImageTab('url');\r\n              }}\r\n              className=\"richer-editor-button\"\r\n              type=\"button\"\r\n            >\r\n              <ImageIcon size={16} />\r\n            </button>\r\n            <CustomPopover\r\n              open={imagePopoverOpen}\r\n              onOpenChange={setImagePopoverOpen}\r\n              anchorEl={imageButtonRef.current}\r\n              closeButton\r\n              onEsc={() => setImagePopoverOpen(false)}\r\n            >\r\n              <div className=\"mb-2 font-semibold text-base flex gap-4 border-b pb-2\">\r\n                <button className={`richer-editor-button${imageTab === 'url' ? ' richer-editor-buttonActive' : ''}`} onClick={() => setImageTab('url')}>URL</button>\r\n                {imageUploadUrl && (\r\n                  <button className={`richer-editor-button${imageTab === 'upload' ? ' richer-editor-buttonActive' : ''}`} onClick={() => setImageTab('upload')}>Upload</button>\r\n                )}\r\n              </div>\r\n              {imageTab === 'url' && (\r\n                <>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Paste image URL here...\"\r\n                    value={imageUrl}\r\n                    onChange={e => setImageUrl(e.target.value)}\r\n                    className=\"richer-editor-input\"\r\n                    autoFocus\r\n                  />\r\n                  <div className=\"richer-editor-flexRowMb2\">\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Width (e.g. 400 or 50%)\"\r\n                      value={imageWidth}\r\n                      onChange={e => setImageWidth(e.target.value)}\r\n                      className=\"richer-editor-input\"\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Height (e.g. 300 or 50%)\"\r\n                      value={imageHeight}\r\n                      onChange={e => setImageHeight(e.target.value)}\r\n                      className=\"richer-editor-input\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"richer-editor-textXs\">Leave blank for default size. Use px (e.g. 400) or % (e.g. 50%).</div>\r\n                  <button\r\n                    className=\"richer-editor-primaryBtn\"\r\n                    onClick={handleImageUrlInsert}\r\n                    disabled={!imageUrl}\r\n                  >\r\n                    {labels.image}\r\n                  </button>\r\n                </>\r\n              )}\r\n              {imageTab === 'upload' && imageUploadUrl && (\r\n                <>\r\n                  {!uploadedImageUrl && (\r\n                    <>\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleUploadInputChange}\r\n                        className=\"mb2\"\r\n                        disabled={uploading}\r\n                      />\r\n                      {uploading && <div className=\"text-sm text-blue-600 mb-2\">Uploading...</div>}\r\n                      {uploadError && <div className=\"text-sm text-red-600 mb-2\">{uploadError}</div>}\r\n                    </>\r\n                  )}\r\n                  {uploadedImageUrl && (\r\n                    <>\r\n                      <div className=\"mb-2 flex flex-col items-center\">\r\n                        <img src={uploadedImageUrl} alt=\"Preview\" className=\"max-h-40 max-w-full rounded border mb-2\" />\r\n                      </div>\r\n                      <div className=\"richer-editor-flexRowMb2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"Width (e.g. 400 or 50%)\"\r\n                          value={imageWidth}\r\n                          onChange={e => setImageWidth(e.target.value)}\r\n                          className=\"richer-editor-input\"\r\n                        />\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"Height (e.g. 300 or 50%)\"\r\n                          value={imageHeight}\r\n                          onChange={e => setImageHeight(e.target.value)}\r\n                          className=\"richer-editor-input\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"richer-editor-flexRow\">\r\n                        <button\r\n                          className=\"richer-editor-primaryBtn\"\r\n                          onClick={handleUploadedImageInsert}\r\n                        >\r\n                          {labels.add}\r\n                        </button>\r\n                        <button\r\n                          className=\"richer-editor-secondaryBtn\"\r\n                          onClick={() => {\r\n                            setUploadedImageUrl('');\r\n                            setImageFile(null);\r\n                            setImageWidth('');\r\n                            setImageHeight('');\r\n                            setUploadError(null);\r\n                          }}\r\n                        >\r\n                          {labels.cancel}\r\n                        </button>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </>\r\n              )}\r\n            </CustomPopover>\r\n          </>\r\n        )}\r\n        {/* Video Popover */}\r\n        {!excludeToolbarButtons.includes('video') && (\r\n          <>\r\n            <button\r\n              ref={videoButtonRef}\r\n              onClick={() => setVideoPopoverOpen((open) => !open)}\r\n              className=\"richer-editor-button\"\r\n              type=\"button\"\r\n            >\r\n              <VideoIcon size={16} />\r\n            </button>\r\n            <CustomPopover\r\n              open={videoPopoverOpen}\r\n              onOpenChange={setVideoPopoverOpen}\r\n              anchorEl={videoButtonRef.current}\r\n              closeButton\r\n              onEsc={() => setVideoPopoverOpen(false)}\r\n            >\r\n              <div className=\"mb-2 font-semibold text-base\">Insert YouTube Video</div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Paste YouTube video URL here...\"\r\n                value={videoUrl}\r\n                onChange={e => setVideoUrl(e.target.value)}\r\n                className=\"richer-editor-input\"\r\n                autoFocus\r\n              />\r\n              <div className=\"richer-editor-flexRowMb2\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Width (e.g. 400 or 50%)\"\r\n                  value={videoWidth}\r\n                  onChange={e => setVideoWidth(e.target.value)}\r\n                  className=\"richer-editor-input\"\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Height (e.g. 300 or 50%)\"\r\n                  value={videoHeight}\r\n                  onChange={e => setVideoHeight(e.target.value)}\r\n                  className=\"richer-editor-input\"\r\n                />\r\n              </div>\r\n              <div className=\"richer-editor-textXs\">Leave blank for default size. Use px (e.g. 400) or % (e.g. 50%).</div>\r\n              <button\r\n                className=\"richer-editor-primaryBtn\"\r\n                onClick={handleVideoUrlInsert}\r\n                disabled={!videoUrl}\r\n              >\r\n                {labels.video}\r\n              </button>\r\n            </CustomPopover>\r\n          </>\r\n        )}\r\n        {/* Alignment */}\r\n        {!excludeToolbarButtons.includes('alignLeft') && (\r\n          <button onClick={() => editor.chain().focus().setTextAlign(\"left\").run()} className={`richer-editor-button ${editor.isActive({ textAlign: \"left\" }) ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.alignLeft} title={labels.alignLeft}><AlignLeft size={16} /></button>\r\n        )}\r\n        {!excludeToolbarButtons.includes('alignCenter') && (\r\n          <button onClick={() => editor.chain().focus().setTextAlign(\"center\").run()} className={`richer-editor-button ${editor.isActive({ textAlign: \"center\" }) ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.alignCenter} title={labels.alignCenter}><AlignCenter size={16} /></button>\r\n        )}\r\n        {!excludeToolbarButtons.includes('alignRight') && (\r\n          <button onClick={() => editor.chain().focus().setTextAlign(\"right\").run()} className={`richer-editor-button ${editor.isActive({ textAlign: \"right\" }) ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.alignRight} title={labels.alignRight}><AlignRight size={16} /></button>\r\n        )}\r\n        {!excludeToolbarButtons.includes('alignJustify') && (\r\n          <button onClick={() => editor.chain().focus().setTextAlign(\"justify\").run()} className={`richer-editor-button ${editor.isActive({ textAlign: \"justify\" }) ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.alignJustify} title={labels.alignJustify}><AlignJustify size={16} /></button>\r\n        )}\r\n        {/* Text Color Picker (Dropdown) */}\r\n        {!excludeToolbarButtons.includes('textColor') && (\r\n          <>\r\n            <button\r\n              ref={textColorButtonRef}\r\n              onClick={() => setTextColorPopoverOpen(open => !open)}\r\n              className={`richer-editor-button${editor.getAttributes('textStyle').color ? ' richer-editor-buttonActive' : ''}`}\r\n              type=\"button\"\r\n              aria-label={labels.textColor}\r\n              title={labels.textColor}\r\n              style={{ position: 'relative', display: 'flex', alignItems: 'center', gap: 4 }}\r\n            >\r\n              <TextColorIcon size={16} />\r\n              {/* Color swatch indicator */}\r\n              <span style={{\r\n                display: 'inline-block',\r\n                width: 14,\r\n                height: 14,\r\n                borderRadius: '50%',\r\n                background: editor.getAttributes('textStyle').color || '#000',\r\n                border: '1px solid #ccc',\r\n                marginLeft: 2,\r\n              }} />\r\n            </button>\r\n            <CustomPopover\r\n              open={textColorPopoverOpen}\r\n              onOpenChange={setTextColorPopoverOpen}\r\n              anchorEl={textColorButtonRef.current}\r\n              closeButton\r\n              onEsc={() => setTextColorPopoverOpen(false)}\r\n            >\r\n              <div style={{ minWidth: 200, padding: 16 }}>\r\n                {editor.getAttributes('textStyle').color && (\r\n                  <button\r\n                    className=\"richer-editor-secondaryBtn mb-2 w-full\"\r\n                    onClick={() => {\r\n                      editor.commands.focus();\r\n                      editor.commands.unsetColor();\r\n                      setTextColorPopoverOpen(false);\r\n                    }}\r\n                    style={{ marginBottom: 8, width: '100%' }}\r\n                  >\r\n                    Remove Color\r\n                  </button>\r\n                )}\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(8, 1fr)', gap: 8, marginBottom: 12 }}>\r\n                  {colorPalette.map((color: string) => (\r\n                    <button\r\n                      key={color}\r\n                      type=\"button\"\r\n                      aria-label={`Select text color ${color}`}\r\n                      onClick={() => {\r\n                        editor.commands.focus();\r\n                        editor.commands.setColor(color);\r\n                        setTextColorPopoverOpen(false);\r\n                      }}\r\n                      style={{\r\n                        background: color,\r\n                        width: 22,\r\n                        height: 22,\r\n                        borderRadius: '50%',\r\n                        border: (editor.getAttributes('textStyle').color === color) ? '2px solid #333' : '1px solid #ccc',\r\n                        outline: 'none',\r\n                        cursor: 'pointer',\r\n                        boxSizing: 'border-box',\r\n                      }}\r\n                      tabIndex={0}\r\n                    />\r\n                  ))}\r\n                </div>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n                  <TextColorIcon size={16} />\r\n                  <input\r\n                    type=\"color\"\r\n                    value={editor.getAttributes('textStyle').color || '#000000'}\r\n                    onChange={e => {\r\n                      editor.commands.focus();\r\n                      editor.commands.setColor(e.target.value);\r\n                      setTextColorPopoverOpen(false);\r\n                    }}\r\n                    style={{ width: 28, height: 28, border: 'none', background: 'none', cursor: 'pointer', padding: 0 }}\r\n                    className=\"richer-editor-colorInput\"\r\n                    aria-label=\"Custom text color picker\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </CustomPopover>\r\n          </>\r\n        )}\r\n        {/* Background Color Picker (Dropdown) */}\r\n        {!excludeToolbarButtons.includes('bgColor') && (\r\n          <>\r\n            <button\r\n              ref={bgColorButtonRef}\r\n              onClick={() => setBgColorPopoverOpen(open => !open)}\r\n              className={`richer-editor-button${editor.getAttributes('highlight').color ? ' richer-editor-buttonActive' : ''}`}\r\n              type=\"button\"\r\n              aria-label={labels.bgColor}\r\n              title={labels.bgColor}\r\n              style={{ position: 'relative', display: 'flex', alignItems: 'center', gap: 4 }}\r\n            >\r\n              <PaintBucket size={16} />\r\n              {/* Color swatch indicator */}\r\n              <span style={{\r\n                display: 'inline-block',\r\n                width: 14,\r\n                height: 14,\r\n                borderRadius: '50%',\r\n                background: editor.getAttributes('highlight').color || '#ffff00',\r\n                border: '1px solid #ccc',\r\n                marginLeft: 2,\r\n              }} />\r\n            </button>\r\n            <CustomPopover\r\n              open={bgColorPopoverOpen}\r\n              onOpenChange={setBgColorPopoverOpen}\r\n              anchorEl={bgColorButtonRef.current}\r\n              closeButton\r\n              onEsc={() => setBgColorPopoverOpen(false)}\r\n            >\r\n              <div style={{ minWidth: 200, padding: 16 }}>\r\n                {editor.getAttributes('highlight').color && (\r\n                  <button\r\n                    className=\"richer-editor-secondaryBtn mb-2 w-full\"\r\n                    onClick={() => {\r\n                      editor.commands.focus();\r\n                      editor.commands.setHighlight({ color: null });\r\n                      editor.commands.unsetHighlight();\r\n                      setBgColorPopoverOpen(false);\r\n                    }}\r\n                    style={{ marginBottom: 8, width: '100%' }}\r\n                  >\r\n                    Remove Color\r\n                  </button>\r\n                )}\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(8, 1fr)', gap: 8, marginBottom: 12 }}>\r\n                  {colorPalette.map((color: string) => (\r\n                    <button\r\n                      key={color}\r\n                      type=\"button\"\r\n                      aria-label={`Select background color ${color}`}\r\n                      onClick={() => {\r\n                        editor.commands.focus();\r\n                        editor.commands.setHighlight({ color });\r\n                        setBgColorPopoverOpen(false);\r\n                      }}\r\n                      style={{\r\n                        background: color,\r\n                        width: 22,\r\n                        height: 22,\r\n                        borderRadius: '50%',\r\n                        border: (editor.getAttributes('highlight').color === color) ? '2px solid #333' : '1px solid #ccc',\r\n                        outline: 'none',\r\n                        cursor: 'pointer',\r\n                        boxSizing: 'border-box',\r\n                      }}\r\n                      tabIndex={0}\r\n                    />\r\n                  ))}\r\n                </div>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n                  <PaintBucket size={16} />\r\n                  <input\r\n                    type=\"color\"\r\n                    value={editor.getAttributes('highlight').color || '#ffff00'}\r\n                    onChange={e => {\r\n                      editor.commands.focus();\r\n                      editor.commands.setHighlight({ color: e.target.value });\r\n                      setBgColorPopoverOpen(false);\r\n                    }}\r\n                    style={{ width: 28, height: 28, border: 'none', background: 'none', cursor: 'pointer', padding: 0 }}\r\n                    className=\"richer-editor-colorInput\"\r\n                    aria-label=\"Custom background color picker\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </CustomPopover>\r\n          </>\r\n        )}\r\n        {/* Subscript/Superscript Buttons */}\r\n        {!excludeToolbarButtons.includes('subscript') && (\r\n          <button\r\n            onClick={() => editor.chain().focus().toggleSubscript().run()}\r\n            className={`richer-editor-button ${editor.isActive('subscript') ? 'richer-editor-buttonActive' : ''}`}\r\n            type=\"button\"\r\n            title=\"Subscript\"\r\n            aria-label={labels.subscript}\r\n          >\r\n            <SubscriptIcon size={16} />\r\n          </button>\r\n        )}\r\n        {!excludeToolbarButtons.includes('superscript') && (\r\n          <button\r\n            onClick={() => editor.chain().focus().toggleSuperscript().run()}\r\n            className={`richer-editor-button ${editor.isActive('superscript') ? 'richer-editor-buttonActive' : ''}`}\r\n            type=\"button\"\r\n            title=\"Superscript\"\r\n            aria-label={labels.superscript}\r\n          >\r\n            <SuperscriptIcon size={16} />\r\n          </button>\r\n        )}\r\n        {/* Custom Toolbar Buttons (rendered at the end) */}\r\n        {customToolbarButtons && (typeof customToolbarButtons === 'function' ? customToolbarButtons(editor) : customToolbarButtons)}\r\n\r\n         {/* Undo/Redo */}\r\n          {!excludeToolbarButtons.includes('undo') && (\r\n            <>\r\n              <div className=\"toolbar-divider\" />\r\n              <button onClick={() => editor.chain().focus().undo().run()} className=\"richer-editor-button\" type=\"button\" aria-label={labels.undo} title={labels.undo}><UndoIcon size={16} /></button>\r\n            </>\r\n          )}\r\n          {!excludeToolbarButtons.includes('redo') && (\r\n            <button onClick={() => editor.chain().focus().redo().run()} className=\"richer-editor-button\" type=\"button\" aria-label={labels.redo} title={labels.redo}><RedoIcon size={16} /></button>\r\n          )}\r\n      </div>\r\n\r\n    </>\r\n  );\r\n};\r\n\r\n\r\n// Blog-friendly color palette (expanded)\r\nconst colorPalette: string[] = [\r\n  '#000000', '#434343', '#666666', '#999999', '#b7b7b7', '#cccccc', '#e6e6e6', '#ffffff',\r\n  '#ff0000', '#ff9900', '#ffff00', '#00ff00', '#00b050', '#00b0f0', '#0070c0', '#002060',\r\n  '#7030a0', '#ff00ff', '#ffb6c1', '#f4cccc', '#fce5cd', '#fff2cc', '#d9ead3', '#d0e0e3',\r\n  '#cfe2f3', '#c9daf8', '#b4a7d6', '#d9d2e9', '#ead1dc', '#f9cb9c', '#ffe599', '#b6d7a8',\r\n  '#a2c4c9', '#a4c2f4', '#6fa8dc', '#8e7cc3', '#b4a7d6', '#d5a6bd', '#e06666', '#f6b26b',\r\n];\r\n\r\nconst RicherEditor = ({\r\n  content = {},\r\n  onChange,\r\n  imageUploadUrl,\r\n  minHeight,\r\n  maxHeight,\r\n  editorProps = {},\r\n  className = '',\r\n  excludeToolbarButtons = [],\r\n  i18n = {},\r\n  fontSizeOptions,\r\n  fontFamilyOptions,\r\n  extensions = [], // default to empty array\r\n  customToolbarButtons,\r\n}: RicherEditorProps) => {\r\n  // Use safe content conversion\r\n  const safeContent = React.useMemo(() => getSafeContent(content), [content]);\r\n  const defaultExtensions = [\r\n    StarterKit,\r\n    Link.configure({ openOnClick: true }),\r\n    CustomBulletList,\r\n    CustomOrderedList,\r\n    TextAlign.configure({ types: [\"heading\", \"paragraph\"] }),\r\n    Image,\r\n    TaskList,\r\n    TaskItem,\r\n    Superscript,\r\n    Subscript,\r\n    Youtube.configure({\r\n      controls: true,\r\n      allowFullscreen: true,\r\n      width: 640,\r\n      height: 360,\r\n      HTMLAttributes: {\r\n        class: 'mx-auto my-4 rounded-lg shadow',\r\n      },\r\n    }),\r\n    Color, // <-- Color must come before TextStyle\r\n    TextStyle,\r\n    FontFamily,\r\n    FontSize,\r\n    Highlight.configure({\r\n      multicolor: true,\r\n    }),\r\n  ];\r\n  const debounceRef = useRef<NodeJS.Timeout | null>(null);\r\n  const editor = useEditor({\r\n    extensions: [\r\n      ...defaultExtensions,\r\n      ...extensions // Merge user-provided extensions\r\n    ],\r\n    content: safeContent,\r\n    editorProps: {\r\n      ...editorProps,\r\n      attributes: {\r\n        class: `richer-editor-textarea ${className || ''}`,\r\n        style: `${minHeight ? `min-height:${minHeight};` : ''}${editorProps?.attributes?.style || ''}`,\r\n        spellCheck: 'true',\r\n        ...editorProps?.attributes,\r\n      },\r\n    },\r\n    onUpdate({ editor }) {\r\n      if (onChange) {\r\n        if (debounceRef.current) clearTimeout(debounceRef.current);\r\n        debounceRef.current = setTimeout(() => {\r\n          onChange({\r\n            html: editor.getHTML(),\r\n            json: JSON.stringify(editor.getJSON()),\r\n          });\r\n        }, 300);\r\n      }\r\n    },\r\n    immediatelyRender: false,\r\n  });\r\n\r\n  // If content prop changes, update the editor content\r\n  React.useEffect(() => {\r\n    if (editor && content !== undefined) {\r\n      const current = editor.getJSON();\r\n      const parsed = getSafeContent(content);\r\n      if (JSON.stringify(current) !== JSON.stringify(parsed)) {\r\n        editor.commands.setContent(parsed);\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [content]);\r\n\r\n  return (\r\n      <div className={`richer-editor-roundedMdBorder`}>\r\n        <MenuBar editor={editor} imageUploadUrl={imageUploadUrl} excludeToolbarButtons={excludeToolbarButtons} i18n={i18n} fontSizeOptions={fontSizeOptions} fontFamilyOptions={fontFamilyOptions} customToolbarButtons={customToolbarButtons} />\r\n        <div className=\"richer-editor-overflowAuto\" style={{maxHeight: maxHeight}}>\r\n          <EditorContent editor={editor} />\r\n        </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default RicherEditor;\r\n","// File: src/icons/BoldIcon.tsx\r\n// Icon color is controlled by parent (inherits 'currentColor'). For dark mode, ensure parent sets color to white or near-white.\r\nimport React from \"react\";\r\ninterface IconProps {\r\n    size?: number;\r\n    color?: string;\r\n    className?: string;\r\n}\r\nconst BoldIcon: React.FC<IconProps> = ({ size = 18, color = \"currentColor\", className }) => (\r\n <svg xmlns=\"http://www.w3.org/2000/svg\" width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" className={className}><path d=\"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8\"/></svg>\r\n);\r\nexport default BoldIcon;\r\n","// File: src/icons/ItalicIcon.tsx\r\n// Icon color is controlled by parent (inherits 'currentColor'). For dark mode, ensure parent sets color to white or near-white.\r\nimport React from 'react';\r\n\r\nconst ItalicIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <line x1=\"19\" x2=\"10\" y1=\"4\" y2=\"4\" />\r\n    <line x1=\"14\" x2=\"5\" y1=\"20\" y2=\"20\" />\r\n    <line x1=\"15\" x2=\"9\" y1=\"4\" y2=\"20\" />\r\n  </svg>\r\n);\r\n\r\nexport default ItalicIcon;","import React from 'react';\r\n\r\nconst UnderlineIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M6 4v6a6 6 0 0 0 12 0V4\" />\r\n    <line x1=\"4\" x2=\"20\" y1=\"20\" y2=\"20\" />\r\n  </svg>\r\n);\r\n\r\nexport default UnderlineIcon;","// File: src/icons/StrikeIcon.tsx\r\n// Icon color is controlled by parent (inherits 'currentColor'). For dark mode, ensure parent sets color to white or near-white.\r\nimport React from 'react';\r\n\r\nconst StrikeIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M16 4H9a3 3 0 0 0-2.83 4\" />\r\n    <path d=\"M14 12a4 4 0 0 1 0 8H8\" />\r\n    <line x1=\"4\" x2=\"20\" y1=\"12\" y2=\"12\" />\r\n  </svg>\r\n);\r\n\r\nexport default StrikeIcon;","import React from 'react';\r\n\r\nconst CodeIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"m18 16 4-4-4-4\" />\r\n    <path d=\"m6 8-4 4 4 4\" />\r\n    <path d=\"m14.5 4-5 16\" />\r\n  </svg>\r\n);\r\n\r\nexport default CodeIcon;","// File: src/icons/BulletListIcon.tsx\r\nimport React from 'react';\r\n\r\nconst BulletListIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <line x1=\"8\" x2=\"21\" y1=\"6\" y2=\"6\" />\r\n    <line x1=\"8\" x2=\"21\" y1=\"12\" y2=\"12\" />\r\n    <line x1=\"8\" x2=\"21\" y1=\"18\" y2=\"18\" />\r\n    <line x1=\"3\" x2=\"3.01\" y1=\"6\" y2=\"6\" />\r\n    <line x1=\"3\" x2=\"3.01\" y1=\"12\" y2=\"12\" />\r\n    <line x1=\"3\" x2=\"3.01\" y1=\"18\" y2=\"18\" />\r\n  </svg>\r\n);\r\n\r\nexport default BulletListIcon;","// File: src/icons/OrderedListIcon.tsx\r\nimport React from 'react';\r\n\r\nconst OrderedListIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M10 12h11\"/><path d=\"M10 18h11\"/><path d=\"M10 6h11\"/><path d=\"M4 10h2\"/><path d=\"M4 6h1v4\"/><path d=\"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1\"/>\r\n  </svg>\r\n);\r\n\r\nexport default OrderedListIcon;\r\n\r\n","import React from 'react';\r\n\r\nconst TaskListIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\"     width={size}\r\n    height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}\r\n    {...props}><rect x=\"3\" y=\"5\" width=\"6\" height=\"6\" rx=\"1\"/><path d=\"m3 17 2 2 4-4\"/><path d=\"M13 6h8\"/><path d=\"M13 12h8\"/><path d=\"M13 18h8\"/></svg>\r\n);\r\n\r\nexport default TaskListIcon;\r\n\r\n","// File: src/icons/BlockquoteIcon.tsx\r\nimport React from 'react';\r\n\r\nconst BlockquoteIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" width={size}\r\n    height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} stroke-width=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}\r\n    {...props}><path d=\"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\"/><path d=\"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\"/></svg>\r\n);\r\n\r\nexport default BlockquoteIcon;\r\n\r\n","import React from 'react';\r\n\r\nconst LinkIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"/><path d=\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"/>\r\n  </svg>\r\n);\r\n\r\nexport default LinkIcon;\r\n","// File: src/icons/ImageIcon.tsx\r\n// Icon color is controlled by parent (inherits 'currentColor'). For dark mode, ensure parent sets color to white or near-white.\r\nimport React from 'react';\r\n\r\nconst ImageIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" />\r\n    <circle cx=\"9\" cy=\"9\" r=\"2\" />\r\n    <path d=\"m21 15-4.35-4.35a2 2 0 0 0-2.83 0L3 21\" />\r\n  </svg>\r\n);\r\n\r\nexport default ImageIcon;","import React from 'react';\r\n\r\nconst UndoIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M3 7v6h6\"/><path d=\"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13\"/>\r\n  </svg>\r\n);\r\n\r\nexport default UndoIcon;\r\n","import React from 'react';\r\n\r\nconst RedoIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M21 7v6h-6\"/><path d=\"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7\"/>\r\n  </svg>\r\n);\r\n\r\nexport default RedoIcon;\r\n\r\n","// File: src/icons/AlignLeft.tsx\r\nimport React from 'react';\r\n\r\nconst AlignLeft = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <line x1=\"21\" x2=\"3\" y1=\"6\" y2=\"6\" />\r\n    <line x1=\"15\" x2=\"3\" y1=\"12\" y2=\"12\" />\r\n    <line x1=\"17\" x2=\"3\" y1=\"18\" y2=\"18\" />\r\n  </svg>\r\n);\r\n\r\nexport default AlignLeft;","// File: src/icons/AlignCenter.tsx\r\nimport React from 'react';\r\n\r\nconst AlignCenter = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <line x1=\"21\" x2=\"3\" y1=\"6\" y2=\"6\" />\r\n    <line x1=\"17\" x2=\"7\" y1=\"12\" y2=\"12\" />\r\n    <line x1=\"19\" x2=\"5\" y1=\"18\" y2=\"18\" />\r\n  </svg>\r\n);\r\n\r\nexport default AlignCenter;","// File: src/icons/AlignRight.tsx\r\nimport React from 'react';\r\n\r\nconst AlignRight = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <line x1=\"21\" x2=\"3\" y1=\"6\" y2=\"6\" />\r\n    <line x1=\"21\" x2=\"9\" y1=\"12\" y2=\"12\" />\r\n    <line x1=\"21\" x2=\"7\" y1=\"18\" y2=\"18\" />\r\n  </svg>\r\n);\r\n\r\nexport default AlignRight;","// File: src/icons/AlignJustify.tsx\r\nimport React from 'react';\r\n\r\nconst AlignJustify = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <line x1=\"21\" x2=\"3\" y1=\"6\" y2=\"6\" />\r\n    <line x1=\"21\" x2=\"3\" y1=\"12\" y2=\"12\" />\r\n    <line x1=\"21\" x2=\"3\" y1=\"18\" y2=\"18\" />\r\n  </svg>\r\n);\r\n\r\nexport default AlignJustify;","import React from 'react';\r\n\r\nconst Highlighter = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"m9 11-6 6v3h9l3-3\" />\r\n    <path d=\"M22 15 11 4l-3 3 11 11 3-3Z\" />\r\n  </svg>\r\n);\r\n\r\nexport default Highlighter;","import React from 'react';\r\n\r\nconst Heading1 = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M4 12h8\" />\r\n    <path d=\"M4 18V6\" />\r\n    <path d=\"M12 18V6\" />\r\n    <path d=\"M17 12v-1h-2V9h3\" />\r\n  </svg>\r\n);\r\n\r\nexport default Heading1;","import React from 'react';\r\n\r\nconst Heading2 = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M4 12h8\" />\r\n    <path d=\"M4 18V6\" />\r\n    <path d=\"M12 18V6\" />\r\n    <path d=\"M17 12a2 2 0 1 1 0 4h-3\" />\r\n    <path d=\"M19 16v.01\" />\r\n  </svg>\r\n);\r\n\r\nexport default Heading2;","// File: src/icons/Heading3.tsx\r\nimport React from 'react';\r\n\r\nconst Heading3 = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M4 12h8\" />\r\n    <path d=\"M4 18V6\" />\r\n    <path d=\"M12 18V6\" />\r\n    <path d=\"M17 14a2 2 0 1 0 0-4h-2\" />\r\n    <path d=\"M15 16a2 2 0 1 0 0 4h2\" />\r\n  </svg>\r\n);\r\n\r\nexport default Heading3;","import React from 'react';\r\n\r\nconst Heading4 = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M4 12h8\" />\r\n    <path d=\"M4 18V6\" />\r\n    <path d=\"M12 18V6\" />\r\n    <path d=\"M17 18v-8l-2 2\" />\r\n    <path d=\"M15 14h4\" />\r\n  </svg>\r\n);\r\n\r\nexport default Heading4;","import React from 'react';\r\n\r\nconst Heading5 = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M4 12h8\" />\r\n    <path d=\"M4 18V6\" />\r\n    <path d=\"M12 18V6\" />\r\n    <path d=\"M17 13.5V12a2 2 0 0 1 2-2h0a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-2v2h4\" />\r\n  </svg>\r\n);\r\n\r\nexport default Heading5;","// File: src/icons/Heading6.tsx\r\nimport React from 'react';\r\n\r\nconst Heading6 = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M4 12h8\" />\r\n    <path d=\"M4 18V6\" />\r\n    <path d=\"M12 18V6\" />\r\n    <circle cx=\"19\" cy=\"16\" r=\"2\" />\r\n    <path d=\"M19 14v-2\" />\r\n  </svg>\r\n);\r\n\r\nexport default Heading6;","import React from 'react';\r\n\r\nconst VideoIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5\"/><rect x=\"2\" y=\"6\" width=\"14\" height=\"12\" rx=\"2\"/>\r\n  </svg>\r\n);\r\n\r\nexport default VideoIcon;\r\n","// File: src/icons/SubscriptIcon.tsx\r\nimport React from 'react';\r\n\r\nconst SubscriptIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"m4 5 8 8\"/><path d=\"m12 5-8 8\"/><path d=\"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07\"/>\r\n  </svg>\r\n);\r\n\r\nexport default SubscriptIcon;\r\n","// File: src/icons/SuperscriptIcon.tsx\r\nimport React from 'react';\r\n\r\nconst SuperscriptIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"m4 19 8-8\"/><path d=\"m12 19-8-8\"/><path d=\"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06\"/>\r\n  </svg>\r\n);\r\n\r\nexport default SuperscriptIcon;\r\n","// File: src/icons/PaintBucket.tsx\r\nimport React from 'react';\r\n\r\nconst PaintBucket = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z\"/><path d=\"m5 2 5 5\"/><path d=\"M2 13h15\"/><path d=\"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z\"/>\r\n  </svg>\r\n);\r\n\r\nexport default PaintBucket;\r\n\r\n","// File: src/icons/TextColorIcon.tsx\r\nimport React from 'react';\r\n\r\nconst TextColorIcon = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M12 4v16\"/><path d=\"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2\"/><path d=\"M9 20h6\"/>\r\n  </svg>\r\n);\r\n\r\nexport default TextColorIcon;\r\n","import { mergeAttributes, Node, wrappingInputRule } from '@tiptap/core'\n\nconst ListItemName = 'listItem'\nconst TextStyleName = 'textStyle'\n\nexport interface BulletListOptions {\n  /**\n   * The node name for the list items\n   * @default 'listItem'\n   * @example 'paragraph'\n   */\n  itemTypeName: string\n\n  /**\n   * HTML attributes to add to the bullet list element\n   * @default {}\n   * @example { class: 'foo' }\n   */\n  HTMLAttributes: Record<string, any>\n\n  /**\n   * Keep the marks when splitting the list\n   * @default false\n   * @example true\n   */\n  keepMarks: boolean\n\n  /**\n   * Keep the attributes when splitting the list\n   * @default false\n   * @example true\n   */\n  keepAttributes: boolean\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    bulletList: {\n      /**\n       * Toggle a bullet list\n       */\n      toggleBulletList: () => ReturnType\n    }\n  }\n}\n\n/**\n * Matches a bullet list to a dash or asterisk.\n */\nexport const bulletListInputRegex = /^\\s*([-+*])\\s$/\n\n/**\n * This extension allows you to create bullet lists.\n * This requires the ListItem extension\n * @see https://tiptap.dev/api/nodes/bullet-list\n * @see https://tiptap.dev/api/nodes/list-item.\n */\nexport const BulletList = Node.create<BulletListOptions>({\n  name: 'bulletList',\n\n  addOptions() {\n    return {\n      itemTypeName: 'listItem',\n      HTMLAttributes: {},\n      keepMarks: false,\n      keepAttributes: false,\n    }\n  },\n\n  group: 'block list',\n\n  content() {\n    return `${this.options.itemTypeName}+`\n  },\n\n  parseHTML() {\n    return [{ tag: 'ul' }]\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    return ['ul', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0]\n  },\n\n  addCommands() {\n    return {\n      toggleBulletList:\n        () =>\n        ({ commands, chain }) => {\n          if (this.options.keepAttributes) {\n            return chain()\n              .toggleList(this.name, this.options.itemTypeName, this.options.keepMarks)\n              .updateAttributes(ListItemName, this.editor.getAttributes(TextStyleName))\n              .run()\n          }\n          return commands.toggleList(this.name, this.options.itemTypeName, this.options.keepMarks)\n        },\n    }\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      'Mod-Shift-8': () => this.editor.commands.toggleBulletList(),\n    }\n  },\n\n  addInputRules() {\n    let inputRule = wrappingInputRule({\n      find: bulletListInputRegex,\n      type: this.type,\n    })\n\n    if (this.options.keepMarks || this.options.keepAttributes) {\n      inputRule = wrappingInputRule({\n        find: bulletListInputRegex,\n        type: this.type,\n        keepMarks: this.options.keepMarks,\n        keepAttributes: this.options.keepAttributes,\n        getAttributes: () => {\n          return this.editor.getAttributes(TextStyleName)\n        },\n        editor: this.editor,\n      })\n    }\n    return [inputRule]\n  },\n})\n","import { mergeAttributes, Node } from '@tiptap/core'\n\nexport interface ListItemOptions {\n  /**\n   * The HTML attributes for a list item node.\n   * @default {}\n   * @example { class: 'foo' }\n   */\n  HTMLAttributes: Record<string, any>\n\n  /**\n   * The node type for bulletList nodes\n   * @default 'bulletList'\n   * @example 'myCustomBulletList'\n   */\n  bulletListTypeName: string\n\n  /**\n   * The node type for orderedList nodes\n   * @default 'orderedList'\n   * @example 'myCustomOrderedList'\n   */\n  orderedListTypeName: string\n}\n\n/**\n * This extension allows you to create list items.\n * @see https://www.tiptap.dev/api/nodes/list-item\n */\nexport const ListItem = Node.create<ListItemOptions>({\n  name: 'listItem',\n\n  addOptions() {\n    return {\n      HTMLAttributes: {},\n      bulletListTypeName: 'bulletList',\n      orderedListTypeName: 'orderedList',\n    }\n  },\n\n  content: 'paragraph block*',\n\n  defining: true,\n\n  parseHTML() {\n    return [\n      {\n        tag: 'li',\n      },\n    ]\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    return ['li', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0]\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      Enter: () => this.editor.commands.splitListItem(this.name),\n      Tab: () => this.editor.commands.sinkListItem(this.name),\n      'Shift-Tab': () => this.editor.commands.liftListItem(this.name),\n    }\n  },\n})\n","import { Extension } from '@tiptap/core'\n\nimport { handleBackspace, handleDelete } from './listHelpers/index.js'\n\nexport type ListKeymapOptions = {\n  /**\n   * An array of list types. This is used for item and wrapper list matching.\n   * @default []\n   * @example [{ itemName: 'listItem', wrapperNames: ['bulletList', 'orderedList'] }]\n   */\n  listTypes: Array<{\n    itemName: string\n    wrapperNames: string[]\n  }>\n}\n\n/**\n * This extension registers custom keymaps to change the behaviour of the backspace and delete keys.\n * By default Prosemirror keyhandling will always lift or sink items so paragraphs are joined into\n * the adjacent or previous list item. This extension will prevent this behaviour and instead will\n * try to join paragraphs from two list items into a single list item.\n * @see https://www.tiptap.dev/api/extensions/list-keymap\n */\nexport const ListKeymap = Extension.create<ListKeymapOptions>({\n  name: 'listKeymap',\n\n  addOptions() {\n    return {\n      listTypes: [\n        {\n          itemName: 'listItem',\n          wrapperNames: ['bulletList', 'orderedList'],\n        },\n        {\n          itemName: 'taskItem',\n          wrapperNames: ['taskList'],\n        },\n      ],\n    }\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      Delete: ({ editor }) => {\n        let handled = false\n\n        this.options.listTypes.forEach(({ itemName }) => {\n          if (editor.state.schema.nodes[itemName] === undefined) {\n            return\n          }\n\n          if (handleDelete(editor, itemName)) {\n            handled = true\n          }\n        })\n\n        return handled\n      },\n      'Mod-Delete': ({ editor }) => {\n        let handled = false\n\n        this.options.listTypes.forEach(({ itemName }) => {\n          if (editor.state.schema.nodes[itemName] === undefined) {\n            return\n          }\n\n          if (handleDelete(editor, itemName)) {\n            handled = true\n          }\n        })\n\n        return handled\n      },\n      Backspace: ({ editor }) => {\n        let handled = false\n\n        this.options.listTypes.forEach(({ itemName, wrapperNames }) => {\n          if (editor.state.schema.nodes[itemName] === undefined) {\n            return\n          }\n\n          if (handleBackspace(editor, itemName, wrapperNames)) {\n            handled = true\n          }\n        })\n\n        return handled\n      },\n      'Mod-Backspace': ({ editor }) => {\n        let handled = false\n\n        this.options.listTypes.forEach(({ itemName, wrapperNames }) => {\n          if (editor.state.schema.nodes[itemName] === undefined) {\n            return\n          }\n\n          if (handleBackspace(editor, itemName, wrapperNames)) {\n            handled = true\n          }\n        })\n\n        return handled\n      },\n    }\n  },\n})\n","export * from './findListItemPos.js'\nexport * from './getNextListDepth.js'\nexport * from './handleBackspace.js'\nexport * from './handleDelete.js'\nexport * from './hasListBefore.js'\nexport * from './hasListItemAfter.js'\nexport * from './hasListItemBefore.js'\nexport * from './listItemHasSubList.js'\nexport * from './nextListIsDeeper.js'\nexport * from './nextListIsHigher.js'\n","import { getNodeType } from '@tiptap/core'\nimport type { NodeType } from '@tiptap/pm/model'\nimport type { EditorState } from '@tiptap/pm/state'\n\nexport const findListItemPos = (typeOrName: string | NodeType, state: EditorState) => {\n  const { $from } = state.selection\n  const nodeType = getNodeType(typeOrName, state.schema)\n\n  let currentNode = null\n  let currentDepth = $from.depth\n  let currentPos = $from.pos\n  let targetDepth: number | null = null\n\n  while (currentDepth > 0 && targetDepth === null) {\n    currentNode = $from.node(currentDepth)\n\n    if (currentNode.type === nodeType) {\n      targetDepth = currentDepth\n    } else {\n      currentDepth -= 1\n      currentPos -= 1\n    }\n  }\n\n  if (targetDepth === null) {\n    return null\n  }\n\n  return { $pos: state.doc.resolve(currentPos), depth: targetDepth }\n}\n","import { getNodeAtPosition } from '@tiptap/core'\nimport type { EditorState } from '@tiptap/pm/state'\n\nimport { findListItemPos } from './findListItemPos.js'\n\nexport const getNextListDepth = (typeOrName: string, state: EditorState) => {\n  const listItemPos = findListItemPos(typeOrName, state)\n\n  if (!listItemPos) {\n    return false\n  }\n\n  const [, depth] = getNodeAtPosition(state, typeOrName, listItemPos.$pos.pos + 4)\n\n  return depth\n}\n","import type { Editor } from '@tiptap/core'\nimport { isAtStartOfNode, isNodeActive } from '@tiptap/core'\nimport type { Node } from '@tiptap/pm/model'\n\nimport { findListItemPos } from './findListItemPos.js'\nimport { hasListBefore } from './hasListBefore.js'\nimport { hasListItemBefore } from './hasListItemBefore.js'\nimport { listItemHasSubList } from './listItemHasSubList.js'\n\nexport const handleBackspace = (editor: Editor, name: string, parentListTypes: string[]) => {\n  // this is required to still handle the undo handling\n  if (editor.commands.undoInputRule()) {\n    return true\n  }\n\n  // if the selection is not collapsed\n  // we can rely on the default backspace behavior\n  if (editor.state.selection.from !== editor.state.selection.to) {\n    return false\n  }\n\n  // if the current item is NOT inside a list item &\n  // the previous item is a list (orderedList or bulletList)\n  // move the cursor into the list and delete the current item\n  if (!isNodeActive(editor.state, name) && hasListBefore(editor.state, name, parentListTypes)) {\n    const { $anchor } = editor.state.selection\n\n    const $listPos = editor.state.doc.resolve($anchor.before() - 1)\n\n    const listDescendants: Array<{ node: Node; pos: number }> = []\n\n    $listPos.node().descendants((node, pos) => {\n      if (node.type.name === name) {\n        listDescendants.push({ node, pos })\n      }\n    })\n\n    const lastItem = listDescendants.at(-1)\n\n    if (!lastItem) {\n      return false\n    }\n\n    const $lastItemPos = editor.state.doc.resolve($listPos.start() + lastItem.pos + 1)\n\n    return editor\n      .chain()\n      .cut({ from: $anchor.start() - 1, to: $anchor.end() + 1 }, $lastItemPos.end())\n      .joinForward()\n      .run()\n  }\n\n  // if the cursor is not inside the current node type\n  // do nothing and proceed\n  if (!isNodeActive(editor.state, name)) {\n    return false\n  }\n\n  // if the cursor is not at the start of a node\n  // do nothing and proceed\n  if (!isAtStartOfNode(editor.state)) {\n    return false\n  }\n\n  const listItemPos = findListItemPos(name, editor.state)\n\n  if (!listItemPos) {\n    return false\n  }\n\n  const $prev = editor.state.doc.resolve(listItemPos.$pos.pos - 2)\n  const prevNode = $prev.node(listItemPos.depth)\n\n  const previousListItemHasSubList = listItemHasSubList(name, editor.state, prevNode)\n\n  // if the previous item is a list item and doesn't have a sublist, join the list items\n  if (hasListItemBefore(name, editor.state) && !previousListItemHasSubList) {\n    return editor.commands.joinItemBackward()\n  }\n\n  // otherwise in the end, a backspace should\n  // always just lift the list item if\n  // joining / merging is not possible\n  return editor.chain().liftListItem(name).run()\n}\n","import type { EditorState } from '@tiptap/pm/state'\n\nexport const hasListBefore = (editorState: EditorState, name: string, parentListTypes: string[]) => {\n  const { $anchor } = editorState.selection\n\n  const previousNodePos = Math.max(0, $anchor.pos - 2)\n\n  const previousNode = editorState.doc.resolve(previousNodePos).node()\n\n  if (!previousNode || !parentListTypes.includes(previousNode.type.name)) {\n    return false\n  }\n\n  return true\n}\n","import type { EditorState } from '@tiptap/pm/state'\n\nexport const hasListItemBefore = (typeOrName: string, state: EditorState): boolean => {\n  const { $anchor } = state.selection\n\n  const $targetPos = state.doc.resolve($anchor.pos - 2)\n\n  if ($targetPos.index() === 0) {\n    return false\n  }\n\n  if ($targetPos.nodeBefore?.type.name !== typeOrName) {\n    return false\n  }\n\n  return true\n}\n","import { getNodeType } from '@tiptap/core'\nimport type { Node } from '@tiptap/pm/model'\nimport type { EditorState } from '@tiptap/pm/state'\n\nexport const listItemHasSubList = (typeOrName: string, state: EditorState, node?: Node) => {\n  if (!node) {\n    return false\n  }\n\n  const nodeType = getNodeType(typeOrName, state.schema)\n\n  let hasSubList = false\n\n  node.descendants(child => {\n    if (child.type === nodeType) {\n      hasSubList = true\n    }\n  })\n\n  return hasSubList\n}\n","import type { Editor } from '@tiptap/core'\nimport { isAtEndOfNode, isNodeActive } from '@tiptap/core'\n\nimport { nextListIsDeeper } from './nextListIsDeeper.js'\nimport { nextListIsHigher } from './nextListIsHigher.js'\n\nexport const handleDelete = (editor: Editor, name: string) => {\n  // if the cursor is not inside the current node type\n  // do nothing and proceed\n  if (!isNodeActive(editor.state, name)) {\n    return false\n  }\n\n  // if the cursor is not at the end of a node\n  // do nothing and proceed\n  if (!isAtEndOfNode(editor.state, name)) {\n    return false\n  }\n\n  // if the selection is not collapsed, or not within a single node\n  // do nothing and proceed\n  const { selection } = editor.state\n  const { $from, $to } = selection\n\n  if (!selection.empty && $from.sameParent($to)) {\n    return false\n  }\n\n  // check if the next node is a list with a deeper depth\n  if (nextListIsDeeper(name, editor.state)) {\n    return editor\n      .chain()\n      .focus(editor.state.selection.from + 4)\n      .lift(name)\n      .joinBackward()\n      .run()\n  }\n\n  if (nextListIsHigher(name, editor.state)) {\n    return editor.chain().joinForward().joinBackward().run()\n  }\n\n  return editor.commands.joinItemForward()\n}\n","import type { EditorState } from '@tiptap/pm/state'\n\nimport { findListItemPos } from './findListItemPos.js'\nimport { getNextListDepth } from './getNextListDepth.js'\n\nexport const nextListIsDeeper = (typeOrName: string, state: EditorState) => {\n  const listDepth = getNextListDepth(typeOrName, state)\n  const listItemPos = findListItemPos(typeOrName, state)\n\n  if (!listItemPos || !listDepth) {\n    return false\n  }\n\n  if (listDepth > listItemPos.depth) {\n    return true\n  }\n\n  return false\n}\n","import type { EditorState } from '@tiptap/pm/state'\n\nimport { findListItemPos } from './findListItemPos.js'\nimport { getNextListDepth } from './getNextListDepth.js'\n\nexport const nextListIsHigher = (typeOrName: string, state: EditorState) => {\n  const listDepth = getNextListDepth(typeOrName, state)\n  const listItemPos = findListItemPos(typeOrName, state)\n\n  if (!listItemPos || !listDepth) {\n    return false\n  }\n\n  if (listDepth < listItemPos.depth) {\n    return true\n  }\n\n  return false\n}\n","import type { EditorState } from '@tiptap/pm/state'\n\nexport const hasListItemAfter = (typeOrName: string, state: EditorState): boolean => {\n  const { $anchor } = state.selection\n\n  const $targetPos = state.doc.resolve($anchor.pos - $anchor.parentOffset - 2)\n\n  if ($targetPos.index() === $targetPos.parent.childCount - 1) {\n    return false\n  }\n\n  if ($targetPos.nodeAfter?.type.name !== typeOrName) {\n    return false\n  }\n\n  return true\n}\n","import { Extension } from '@tiptap/core'\n\nimport type { BulletListOptions } from '../bullet-list/index.js'\nimport { BulletList } from '../bullet-list/index.js'\nimport type { ListItemOptions } from '../item/index.js'\nimport { ListItem } from '../item/index.js'\nimport type { ListKeymapOptions } from '../keymap/index.js'\nimport { ListKeymap } from '../keymap/index.js'\nimport type { OrderedListOptions } from '../ordered-list/index.js'\nimport { OrderedList } from '../ordered-list/index.js'\nimport type { TaskItemOptions } from '../task-item/index.js'\nimport { TaskItem } from '../task-item/index.js'\nimport type { TaskListOptions } from '../task-list/index.js'\nimport { TaskList } from '../task-list/index.js'\n\nexport interface ListKitOptions {\n  /**\n   * If set to false, the bulletList extension will not be registered\n   * @example table: false\n   */\n  bulletList: Partial<BulletListOptions> | false\n  /**\n   * If set to false, the listItem extension will not be registered\n   */\n  listItem: Partial<ListItemOptions> | false\n  /**\n   * If set to false, the listKeymap extension will not be registered\n   */\n  listKeymap: Partial<ListKeymapOptions> | false\n  /**\n   * If set to false, the orderedList extension will not be registered\n   */\n  orderedList: Partial<OrderedListOptions> | false\n  /**\n   * If set to false, the taskItem extension will not be registered\n   */\n  taskItem: Partial<TaskItemOptions> | false\n  /**\n   * If set to false, the taskList extension will not be registered\n   */\n  taskList: Partial<TaskListOptions> | false\n}\n\n/**\n * The table kit is a collection of table editor extensions.\n *\n * It’s a good starting point for building your own table in Tiptap.\n */\nexport const ListKit = Extension.create<ListKitOptions>({\n  name: 'listKit',\n\n  addExtensions() {\n    const extensions = []\n\n    if (this.options.bulletList !== false) {\n      extensions.push(BulletList.configure(this.options.bulletList))\n    }\n\n    if (this.options.listItem !== false) {\n      extensions.push(ListItem.configure(this.options.listItem))\n    }\n\n    if (this.options.listKeymap !== false) {\n      extensions.push(ListKeymap.configure(this.options.listKeymap))\n    }\n\n    if (this.options.orderedList !== false) {\n      extensions.push(OrderedList.configure(this.options.orderedList))\n    }\n\n    if (this.options.taskItem !== false) {\n      extensions.push(TaskItem.configure(this.options.taskItem))\n    }\n\n    if (this.options.taskList !== false) {\n      extensions.push(TaskList.configure(this.options.taskList))\n    }\n\n    return extensions\n  },\n})\n","import { mergeAttributes, Node, wrappingInputRule } from '@tiptap/core'\n\nconst ListItemName = 'listItem'\nconst TextStyleName = 'textStyle'\n\nexport interface OrderedListOptions {\n  /**\n   * The node type name for list items.\n   * @default 'listItem'\n   * @example 'myListItem'\n   */\n  itemTypeName: string\n\n  /**\n   * The HTML attributes for an ordered list node.\n   * @default {}\n   * @example { class: 'foo' }\n   */\n  HTMLAttributes: Record<string, any>\n\n  /**\n   * Keep the marks when splitting a list item.\n   * @default false\n   * @example true\n   */\n  keepMarks: boolean\n\n  /**\n   * Keep the attributes when splitting a list item.\n   * @default false\n   * @example true\n   */\n  keepAttributes: boolean\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    orderedList: {\n      /**\n       * Toggle an ordered list\n       * @example editor.commands.toggleOrderedList()\n       */\n      toggleOrderedList: () => ReturnType\n    }\n  }\n}\n\n/**\n * Matches an ordered list to a 1. on input (or any number followed by a dot).\n */\nexport const orderedListInputRegex = /^(\\d+)\\.\\s$/\n\n/**\n * This extension allows you to create ordered lists.\n * This requires the ListItem extension\n * @see https://www.tiptap.dev/api/nodes/ordered-list\n * @see https://www.tiptap.dev/api/nodes/list-item\n */\nexport const OrderedList = Node.create<OrderedListOptions>({\n  name: 'orderedList',\n\n  addOptions() {\n    return {\n      itemTypeName: 'listItem',\n      HTMLAttributes: {},\n      keepMarks: false,\n      keepAttributes: false,\n    }\n  },\n\n  group: 'block list',\n\n  content() {\n    return `${this.options.itemTypeName}+`\n  },\n\n  addAttributes() {\n    return {\n      start: {\n        default: 1,\n        parseHTML: element => {\n          return element.hasAttribute('start') ? parseInt(element.getAttribute('start') || '', 10) : 1\n        },\n      },\n      type: {\n        default: null,\n        parseHTML: element => element.getAttribute('type'),\n      },\n    }\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: 'ol',\n      },\n    ]\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    const { start, ...attributesWithoutStart } = HTMLAttributes\n\n    return start === 1\n      ? ['ol', mergeAttributes(this.options.HTMLAttributes, attributesWithoutStart), 0]\n      : ['ol', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0]\n  },\n\n  addCommands() {\n    return {\n      toggleOrderedList:\n        () =>\n        ({ commands, chain }) => {\n          if (this.options.keepAttributes) {\n            return chain()\n              .toggleList(this.name, this.options.itemTypeName, this.options.keepMarks)\n              .updateAttributes(ListItemName, this.editor.getAttributes(TextStyleName))\n              .run()\n          }\n          return commands.toggleList(this.name, this.options.itemTypeName, this.options.keepMarks)\n        },\n    }\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      'Mod-Shift-7': () => this.editor.commands.toggleOrderedList(),\n    }\n  },\n\n  addInputRules() {\n    let inputRule = wrappingInputRule({\n      find: orderedListInputRegex,\n      type: this.type,\n      getAttributes: match => ({ start: +match[1] }),\n      joinPredicate: (match, node) => node.childCount + node.attrs.start === +match[1],\n    })\n\n    if (this.options.keepMarks || this.options.keepAttributes) {\n      inputRule = wrappingInputRule({\n        find: orderedListInputRegex,\n        type: this.type,\n        keepMarks: this.options.keepMarks,\n        keepAttributes: this.options.keepAttributes,\n        getAttributes: match => ({ start: +match[1], ...this.editor.getAttributes(TextStyleName) }),\n        joinPredicate: (match, node) => node.childCount + node.attrs.start === +match[1],\n        editor: this.editor,\n      })\n    }\n    return [inputRule]\n  },\n})\n","import type { KeyboardShortcutCommand } from '@tiptap/core'\nimport { mergeAttributes, Node, wrappingInputRule } from '@tiptap/core'\nimport type { Node as ProseMirrorNode } from '@tiptap/pm/model'\n\nexport interface TaskItemOptions {\n  /**\n   * A callback function that is called when the checkbox is clicked while the editor is in readonly mode.\n   * @param node The prosemirror node of the task item\n   * @param checked The new checked state\n   * @returns boolean\n   */\n  onReadOnlyChecked?: (node: ProseMirrorNode, checked: boolean) => boolean\n\n  /**\n   * Controls whether the task items can be nested or not.\n   * @default false\n   * @example true\n   */\n  nested: boolean\n\n  /**\n   * HTML attributes to add to the task item element.\n   * @default {}\n   * @example { class: 'foo' }\n   */\n  HTMLAttributes: Record<string, any>\n\n  /**\n   * The node type for taskList nodes\n   * @default 'taskList'\n   * @example 'myCustomTaskList'\n   */\n  taskListTypeName: string\n\n  /**\n   * Accessibility options for the task item.\n   * @default {}\n   * @example\n   * ```js\n   * {\n   *   checkboxLabel: (node) => `Task item: ${node.textContent || 'empty task item'}`\n   * }\n   */\n  a11y?: {\n    checkboxLabel?: (node: ProseMirrorNode, checked: boolean) => string\n  }\n}\n\n/**\n * Matches a task item to a - [ ] on input.\n */\nexport const inputRegex = /^\\s*(\\[([( |x])?\\])\\s$/\n\n/**\n * This extension allows you to create task items.\n * @see https://www.tiptap.dev/api/nodes/task-item\n */\nexport const TaskItem = Node.create<TaskItemOptions>({\n  name: 'taskItem',\n\n  addOptions() {\n    return {\n      nested: false,\n      HTMLAttributes: {},\n      taskListTypeName: 'taskList',\n      a11y: undefined,\n    }\n  },\n\n  content() {\n    return this.options.nested ? 'paragraph block*' : 'paragraph+'\n  },\n\n  defining: true,\n\n  addAttributes() {\n    return {\n      checked: {\n        default: false,\n        keepOnSplit: false,\n        parseHTML: element => {\n          const dataChecked = element.getAttribute('data-checked')\n\n          return dataChecked === '' || dataChecked === 'true'\n        },\n        renderHTML: attributes => ({\n          'data-checked': attributes.checked,\n        }),\n      },\n    }\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: `li[data-type=\"${this.name}\"]`,\n        priority: 51,\n      },\n    ]\n  },\n\n  renderHTML({ node, HTMLAttributes }) {\n    return [\n      'li',\n      mergeAttributes(this.options.HTMLAttributes, HTMLAttributes, {\n        'data-type': this.name,\n      }),\n      [\n        'label',\n        [\n          'input',\n          {\n            type: 'checkbox',\n            checked: node.attrs.checked ? 'checked' : null,\n          },\n        ],\n        ['span'],\n      ],\n      ['div', 0],\n    ]\n  },\n\n  addKeyboardShortcuts() {\n    const shortcuts: {\n      [key: string]: KeyboardShortcutCommand\n    } = {\n      Enter: () => this.editor.commands.splitListItem(this.name),\n      'Shift-Tab': () => this.editor.commands.liftListItem(this.name),\n    }\n\n    if (!this.options.nested) {\n      return shortcuts\n    }\n\n    return {\n      ...shortcuts,\n      Tab: () => this.editor.commands.sinkListItem(this.name),\n    }\n  },\n\n  addNodeView() {\n    return ({ node, HTMLAttributes, getPos, editor }) => {\n      const listItem = document.createElement('li')\n      const checkboxWrapper = document.createElement('label')\n      const checkboxStyler = document.createElement('span')\n      const checkbox = document.createElement('input')\n      const content = document.createElement('div')\n\n      const updateA11Y = () => {\n        checkbox.ariaLabel =\n          this.options.a11y?.checkboxLabel?.(node, checkbox.checked) ||\n          `Task item checkbox for ${node.textContent || 'empty task item'}`\n      }\n\n      updateA11Y()\n\n      checkboxWrapper.contentEditable = 'false'\n      checkbox.type = 'checkbox'\n      checkbox.addEventListener('mousedown', event => event.preventDefault())\n      checkbox.addEventListener('change', event => {\n        // if the editor isn’t editable and we don't have a handler for\n        // readonly checks we have to undo the latest change\n        if (!editor.isEditable && !this.options.onReadOnlyChecked) {\n          checkbox.checked = !checkbox.checked\n\n          return\n        }\n\n        const { checked } = event.target as any\n\n        if (editor.isEditable && typeof getPos === 'function') {\n          editor\n            .chain()\n            .focus(undefined, { scrollIntoView: false })\n            .command(({ tr }) => {\n              const position = getPos()\n\n              if (typeof position !== 'number') {\n                return false\n              }\n              const currentNode = tr.doc.nodeAt(position)\n\n              tr.setNodeMarkup(position, undefined, {\n                ...currentNode?.attrs,\n                checked,\n              })\n\n              return true\n            })\n            .run()\n        }\n        if (!editor.isEditable && this.options.onReadOnlyChecked) {\n          // Reset state if onReadOnlyChecked returns false\n          if (!this.options.onReadOnlyChecked(node, checked)) {\n            checkbox.checked = !checkbox.checked\n          }\n        }\n      })\n\n      Object.entries(this.options.HTMLAttributes).forEach(([key, value]) => {\n        listItem.setAttribute(key, value)\n      })\n\n      listItem.dataset.checked = node.attrs.checked\n      checkbox.checked = node.attrs.checked\n\n      checkboxWrapper.append(checkbox, checkboxStyler)\n      listItem.append(checkboxWrapper, content)\n\n      Object.entries(HTMLAttributes).forEach(([key, value]) => {\n        listItem.setAttribute(key, value)\n      })\n\n      return {\n        dom: listItem,\n        contentDOM: content,\n        update: updatedNode => {\n          if (updatedNode.type !== this.type) {\n            return false\n          }\n\n          listItem.dataset.checked = updatedNode.attrs.checked\n          checkbox.checked = updatedNode.attrs.checked\n          updateA11Y()\n\n          return true\n        },\n      }\n    }\n  },\n\n  addInputRules() {\n    return [\n      wrappingInputRule({\n        find: inputRegex,\n        type: this.type,\n        getAttributes: match => ({\n          checked: match[match.length - 1] === 'x',\n        }),\n      }),\n    ]\n  },\n})\n","import { mergeAttributes, Node } from '@tiptap/core'\n\nexport interface TaskListOptions {\n  /**\n   * The node type name for a task item.\n   * @default 'taskItem'\n   * @example 'myCustomTaskItem'\n   */\n  itemTypeName: string\n\n  /**\n   * The HTML attributes for a task list node.\n   * @default {}\n   * @example { class: 'foo' }\n   */\n  HTMLAttributes: Record<string, any>\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    taskList: {\n      /**\n       * Toggle a task list\n       * @example editor.commands.toggleTaskList()\n       */\n      toggleTaskList: () => ReturnType\n    }\n  }\n}\n\n/**\n * This extension allows you to create task lists.\n * @see https://www.tiptap.dev/api/nodes/task-list\n */\nexport const TaskList = Node.create<TaskListOptions>({\n  name: 'taskList',\n\n  addOptions() {\n    return {\n      itemTypeName: 'taskItem',\n      HTMLAttributes: {},\n    }\n  },\n\n  group: 'block list',\n\n  content() {\n    return `${this.options.itemTypeName}+`\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: `ul[data-type=\"${this.name}\"]`,\n        priority: 51,\n      },\n    ]\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    return ['ul', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes, { 'data-type': this.name }), 0]\n  },\n\n  addCommands() {\n    return {\n      toggleTaskList:\n        () =>\n        ({ commands }) => {\n          return commands.toggleList(this.name, this.options.itemTypeName)\n        },\n    }\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      'Mod-Shift-9': () => this.editor.commands.toggleTaskList(),\n    }\n  },\n})\n","import { BulletList } from '@tiptap/extension-bullet-list';\r\nimport { mergeAttributes } from '@tiptap/core';\r\n\r\nexport const CustomBulletList = BulletList.extend({\r\n  addAttributes() {\r\n    return {\r\n      ...this.parent?.(),\r\n      listStyleType: {\r\n        default: 'disc',\r\n        parseHTML: element => element.style.listStyleType || 'disc',\r\n        renderHTML: attributes => {\r\n          return {\r\n            style: `list-style-type: ${attributes.listStyleType || 'disc'}`,\r\n          };\r\n        },\r\n      },\r\n    };\r\n  },\r\n  renderHTML({ HTMLAttributes }) {\r\n    return ['ul', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\r\n  },\r\n});","import { OrderedList } from '@tiptap/extension-ordered-list';\r\nimport { mergeAttributes } from '@tiptap/core';\r\n\r\nexport const CustomOrderedList = OrderedList.extend({\r\n  addAttributes() {\r\n    return {\r\n      ...this.parent?.(),\r\n      listStyleType: {\r\n        default: 'decimal',\r\n        parseHTML: element => element.style.listStyleType || 'decimal',\r\n        renderHTML: attributes => {\r\n          return {\r\n            style: `list-style-type: ${attributes.listStyleType || 'decimal'}`,\r\n          };\r\n        },\r\n      },\r\n    };\r\n  },\r\n  renderHTML({ HTMLAttributes }) {\r\n    return ['ol', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\r\n  },\r\n});","// File: src/components/ui/CustomSelect.tsx\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './CustomSelect.css';\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface Option {\r\n  value: string;\r\n  label: React.ReactNode;\r\n}\r\n\r\ninterface CustomSelectProps {\r\n  value: string;\r\n  options: Option[];\r\n  onChange: (value: string) => void;\r\n  className?: string;\r\n  placeholder?: any; // e.g. 'Font Size', 'Font Family', etc.\r\n  label?: string; // for accessibility and visual clarity\r\n}\r\n\r\nconst CustomSelect: React.FC<CustomSelectProps> = ({ value, options, onChange, className, placeholder, label }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [highlighted, setHighlighted] = useState<number>(-1);\r\n  const triggerRef = useRef<HTMLButtonElement>(null);\r\n  const listRef = useRef<HTMLUListElement>(null);\r\n  const [dropdownPos, setDropdownPos] = useState<{top: number, left: number, width: number}>({top: 0, left: 0, width: 0});\r\n\r\n  useEffect(() => {\r\n    if (open && triggerRef.current) {\r\n      const rect = triggerRef.current.getBoundingClientRect();\r\n      setDropdownPos({\r\n        top: rect.bottom + window.scrollY,\r\n        left: rect.left + window.scrollX,\r\n        width: rect.width\r\n      });\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    if (open && listRef.current && highlighted >= 0) {\r\n      const el = listRef.current.children[highlighted] as HTMLElement;\r\n      if (el) el.scrollIntoView({ block: 'nearest' });\r\n    }\r\n  }, [open, highlighted]);\r\n\r\n  useEffect(() => {\r\n    if (!open) setHighlighted(-1);\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    function handleClickOutside(e: MouseEvent) {\r\n      if (\r\n        triggerRef.current &&\r\n        !triggerRef.current.contains(e.target as Node) &&\r\n        listRef.current &&\r\n        !listRef.current.contains(e.target as Node)\r\n      ) {\r\n        setOpen(false);\r\n      }\r\n    }\r\n    if (open) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n    }\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [open]);\r\n\r\n  function handleKeyDown(e: React.KeyboardEvent) {\r\n    if (!open) {\r\n      if (e.key === 'ArrowDown' || e.key === 'Enter' || e.key === ' ') {\r\n        setOpen(true);\r\n        setHighlighted(0);\r\n        e.preventDefault();\r\n      }\r\n      return;\r\n    }\r\n    if (e.key === 'ArrowDown') {\r\n      setHighlighted(h => Math.min(h + 1, options.length - 1));\r\n      e.preventDefault();\r\n    } else if (e.key === 'ArrowUp') {\r\n      setHighlighted(h => Math.max(h - 1, 0));\r\n      e.preventDefault();\r\n    } else if (e.key === 'Enter' || e.key === ' ') {\r\n      if (highlighted >= 0) {\r\n        onChange(options[highlighted].value);\r\n        setOpen(false);\r\n      }\r\n      e.preventDefault();\r\n    } else if (e.key === 'Escape') {\r\n      setOpen(false);\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  function handleOptionClick(idx: number) {\r\n    onChange(options[idx].value);\r\n    setOpen(false);\r\n  }\r\n\r\n  const selectedOption = options.find(o => o.value === value);\r\n\r\n  return (\r\n    <div className={cn(\"selectWrapper\", className)}\r\n      tabIndex={0}\r\n      onBlur={e => {\r\n        if (!e.currentTarget.contains(e.relatedTarget as Node)) setOpen(false);\r\n      }}\r\n      style={{display: 'inline-block'}}\r\n    >\r\n      {label && <div className=\"label\">{label}</div>}\r\n      <button\r\n        ref={triggerRef}\r\n        className=\"trigger\"\r\n        aria-haspopup=\"listbox\"\r\n        aria-expanded={open}\r\n        onClick={() => setOpen(o => !o)}\r\n        onKeyDown={handleKeyDown}\r\n        type=\"button\"\r\n      >\r\n        <span className={selectedOption ? undefined : \"placeholder\"}>\r\n          {selectedOption ? selectedOption.label : placeholder || 'Select...'}\r\n        </span>\r\n        <span className=\"chevron\" aria-hidden>▼</span>\r\n      </button>\r\n      {open && ReactDOM.createPortal(\r\n        <ul\r\n          className=\"options\"\r\n          ref={listRef}\r\n          role=\"listbox\"\r\n          tabIndex={-1}\r\n          style={{\r\n            position: 'absolute',\r\n            top: dropdownPos.top,\r\n            left: dropdownPos.left,\r\n            minWidth: dropdownPos.width,\r\n            maxWidth: 200,\r\n            zIndex: 2000\r\n          }}\r\n        >\r\n          {options.map((opt, idx) => (\r\n            <li\r\n              key={opt.value}\r\n              className={\r\n                `option ${value === opt.value ? \"selected\" : ''} ${highlighted === idx ? \"highlighted\" : ''}`\r\n              }\r\n              role=\"option\"\r\n              aria-selected={value === opt.value}\r\n              onMouseDown={e => { e.preventDefault(); handleOptionClick(idx); }}\r\n              onMouseEnter={() => setHighlighted(idx)}\r\n            >\r\n              {opt.label}\r\n            </li>\r\n          ))}\r\n        </ul>,\r\n        document.body\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomSelect;","import { clsx, type ClassValue } from \"clsx\"\r\n\r\n/**\r\n * Merges class names using clsx.\r\n * @param {...ClassValue[]} inputs - Class names, arrays, or objects to merge\r\n * @returns {string} The merged class string\r\n */\r\nexport function cn(...inputs: ClassValue[]): string {\r\n  // Use clsx to merge class names\r\n  return clsx(...inputs)\r\n}\r\n\r\n\r\n// Returns a safe JSON object from content.json, or a default doc if missing/invalid\r\nexport const getSafeContent = (content: { json?: object | string, html?: string } | undefined): object => {\r\n  if (!content || !content.json) {\r\n    return { type: 'doc', content: [{ type: 'paragraph' }] };\r\n  }\r\n  if (typeof content.json === 'object') {\r\n    return content.json;\r\n  }\r\n  if (typeof content.json === 'string') {\r\n      const parsed = JSON.parse(content.json);\r\n      if (typeof parsed === 'object' && parsed !== null) {\r\n        return parsed;\r\n      }\r\n  }\r\n  return { type: 'doc', content: [{ type: 'paragraph' }] };\r\n};\r\n","// File: src/components/ui/CustomPopover.tsx\r\nimport React, { useRef, useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { cn } from \"@/lib/utils\";\r\n\r\n// Import CSS inside the component so it is bundled\r\nimport './CustomPopover.css';\r\n\r\ninterface CustomPopoverProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  anchorEl: HTMLElement | null;\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  closeButton?: boolean;\r\n  onEsc?: () => void;\r\n}\r\n\r\nconst CustomPopover: React.FC<CustomPopoverProps> = ({ open, onOpenChange, anchorEl, children, className, closeButton, onEsc }) => {\r\n  const popoverRef = useRef<HTMLDivElement>(null);\r\n  const [position, setPosition] = useState<{ top: number; left: number }>({ top: 0, left: 0 });\r\n\r\n  useEffect(() => {\r\n    if (open && anchorEl) {\r\n      const rect = anchorEl.getBoundingClientRect();\r\n      setPosition({\r\n        top: rect.bottom + window.scrollY + 8,\r\n        left: rect.left + window.scrollX,\r\n      });\r\n    }\r\n  }, [open, anchorEl]);\r\n\r\n  useEffect(() => {\r\n    function handleClickOutside(event: MouseEvent) {\r\n      if (popoverRef.current && !popoverRef.current.contains(event.target as Node) && anchorEl && !anchorEl.contains(event.target as Node)) {\r\n        onOpenChange(false);\r\n      }\r\n    }\r\n    function handleKeyDown(event: KeyboardEvent) {\r\n      if (event.key === 'Escape') {\r\n        if (onEsc) onEsc();\r\n        else onOpenChange(false);\r\n      }\r\n    }\r\n    if (open) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n      document.addEventListener('keydown', handleKeyDown);\r\n    }\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n      document.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [open, onOpenChange, anchorEl, onEsc]);\r\n\r\n  if (!open || !anchorEl) return null;\r\n  return ReactDOM.createPortal(\r\n    <div\r\n      ref={popoverRef}\r\n      className={cn(\"popover\", className)}\r\n      style={{ top: position.top, left: position.left, position: 'absolute', zIndex: 1000 }}\r\n      tabIndex={-1}\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n    >\r\n      {closeButton && (\r\n        <button\r\n          className=\"closeBtn\"\r\n          aria-label=\"Close\"\r\n          onClick={() => onOpenChange(false)}\r\n          style={{ position: 'absolute', top: 8, right: 8 }}\r\n        >\r\n          ×\r\n        </button>\r\n      )}\r\n      {children}\r\n    </div>,\r\n    document.body\r\n  );\r\n};\r\n\r\nexport default CustomPopover;","\r\nimport React, { useCallback, useState, useRef } from \"react\";\r\nimport { useEditor, EditorContent } from \"@tiptap/react\";\r\nimport StarterKit from \"@tiptap/starter-kit\";\r\nimport Link from \"@tiptap/extension-link\";\r\nimport Highlight from '@tiptap/extension-highlight';\r\nimport Youtube from '@tiptap/extension-youtube';\r\nimport TextAlign from \"@tiptap/extension-text-align\";\r\nimport { TextStyle } from '@tiptap/extension-text-style';\r\nimport FontSize from '@tiptap/extension-font-size';\r\nimport Image from \"@tiptap/extension-image\";\r\n\r\n\r\nimport CustomSelect from './ui/CustomSelect';\r\nimport CustomPopover from './ui/CustomPopover';\r\nimport BoldIcon from '../icons/BoldIcon';\r\nimport UnderlineIcon from '../icons/UnderlineIcon';\r\nimport Highlighter from '../icons/Highlighter';\r\nimport CodeIcon from '../icons/CodeIcon';\r\nimport BulletListIcon from '../icons/BulletListIcon';\r\nimport OrderedListIcon from '../icons/OrderedListIcon';\r\nimport LinkIcon from '../icons/LinkIcon';\r\nimport ImageIcon from '../icons/ImageIcon';\r\nimport VideoIcon from '../icons/VideoIcon';\r\nimport AlignLeft from '../icons/AlignLeft';\r\nimport AlignCenter from '../icons/AlignCenter';\r\nimport AlignRight from '../icons/AlignRight';\r\nimport AlignJustify from '../icons/AlignJustify';\r\nimport FontSizeIcon from '../icons/FontSizeIcon';\r\n\r\n// Import CSS inside the component so it is bundled\r\nimport './RicherEditor.css';\r\nimport { getSafeContent } from \"@/lib/utils\";\r\nimport Heading1 from \"@/icons/Heading1\";\r\nimport Heading2 from \"@/icons/Heading2\";\r\nimport Heading3 from \"@/icons/Heading3\";\r\nimport Heading4 from \"@/icons/Heading4\";\r\nimport Heading5 from \"@/icons/Heading5\";\r\nimport Heading6 from \"@/icons/Heading6\";\r\nimport ItalicIcon from \"@/icons/ItalicIcon\";\r\nimport StrikeIcon from \"@/icons/StrikeIcon\";\r\nimport BlockquoteIcon from \"@/icons/BlockquoteIcon\";\r\nimport Heading from \"@/icons/Heading\";\r\n\r\nfunction isSafeUrl(url: string): boolean {\r\n  try {\r\n    const parsed = new URL(url, window.location.origin);\r\n    return (\r\n      [\"http:\", \"https:\"].includes(parsed.protocol) ||\r\n      (parsed.protocol === \"data:\" && url.startsWith(\"data:image/\"))\r\n    );\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nconst fontSizes = [\r\n  { name: '10px', value: '10px' },\r\n  { name: '12px', value: '12px' },\r\n  { name: '14px', value: '14px' },\r\n  { name: '16px', value: '16px' },\r\n  { name: '18px', value: '18px' },\r\n  { name: '20px', value: '20px' },\r\n  { name: '22px', value: '22px' },\r\n  { name: '24px', value: '24px' },\r\n  { name: '26px', value: '26px' },\r\n  { name: '28px', value: '28px' },\r\n  { name: '30px', value: '30px' },\r\n  { name: '32px', value: '32px' },\r\n];\r\n\r\nconst fontFamilies = [\r\n  { name: 'Sans-serif', value: 'sans-serif' },\r\n  { name: 'Serif', value: 'serif' },\r\n  { name: 'Monospace', value: 'monospace' },\r\n  { name: 'Arial', value: 'Arial, sans-serif' },\r\n  { name: 'Georgia', value: 'Georgia, serif' },\r\n  { name: 'Inter', value: 'Inter, sans-serif' },\r\n];\r\n\r\nconst alignmentOptions = [\r\n  { value: 'left', label: <AlignLeft size={18} />, name: 'Left' },\r\n  { value: 'center', label: <AlignCenter size={18} />, name: 'Center' },\r\n  { value: 'right', label: <AlignRight size={18} />, name: 'Right' },\r\n  { value: 'justify', label: <AlignJustify size={18} />, name: 'Justify' },\r\n];\r\n\r\nconst headingOptions = [\r\n  { level: 1, label: <Heading1 size={18} /> },\r\n  { level: 2, label: <Heading2 size={18} /> },\r\n  { level: 3, label: <Heading3 size={18} /> },\r\n  { level: 4, label: <Heading4 size={18} /> },\r\n  { level: 5, label: <Heading5 size={18} /> },\r\n  { level: 6, label: <Heading6 size={18} /> },\r\n];\r\n\r\n// Add defaultI18n for button labels\r\nconst defaultI18n = {\r\n  bold: 'Bold',\r\n  italic: 'Italic',\r\n  underline: 'Underline',\r\n  strike: 'Strikethrough',\r\n  highlight: 'Highlight',\r\n  code: 'Code Block',\r\n  bulletList: 'Bullet List',\r\n  orderedList: 'Ordered List',\r\n  blockquote: 'Blockquote',\r\n  hr: 'Horizontal Rule',\r\n  link: 'Insert/Edit Link',\r\n  image: 'Insert Image',\r\n  video: 'Insert YouTube Video',\r\n  align: 'Align',\r\n  insert: 'Insert',\r\n  remove: 'Remove',\r\n  add: 'Add',\r\n  cancel: 'Cancel',\r\n  fontSize: 'Font Size',\r\n};\r\n\r\n// Update MenuBar to accept customToolbarButtons\r\nconst MenuBar = ({ editor, imageUploadUrl, excludeToolbarButtons = [], i18n = {}, fontSizeOptions, fontFamilyOptions, customToolbarButtons }: { editor: any, imageUploadUrl?: string, excludeToolbarButtons?: string[], i18n?: Record<string, string>, fontSizeOptions?: { name: string; value: string }[], fontFamilyOptions?: { name: string; value: string }[], customToolbarButtons?: React.ReactNode | ((editor: any) => React.ReactNode) }) => {\r\n  const [imagePopoverOpen, setImagePopoverOpen] = useState(false);\r\n  const [imageTab, setImageTab] = useState<'url' | 'upload'>('url');\r\n  const [imageUrl, setImageUrl] = useState('');\r\n  const [imageWidth, setImageWidth] = useState('');\r\n  const [imageHeight, setImageHeight] = useState('');\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadError, setUploadError] = useState<string | null>(null);\r\n  const [uploadedImageUrl, setUploadedImageUrl] = useState('');\r\n  const [imageFile, setImageFile] = useState<File | null>(null);\r\n  const [videoPopoverOpen, setVideoPopoverOpen] = useState(false);\r\n  const [videoUrl, setVideoUrl] = useState('');\r\n  const [videoWidth, setVideoWidth] = useState('');\r\n  const [videoHeight, setVideoHeight] = useState('');\r\n  const [linkPopoverOpen, setLinkPopoverOpen] = useState(false);\r\n  const [linkUrl, setLinkUrl] = useState('');\r\n  const [linkTarget, setLinkTarget] = useState('_blank');\r\n  const linkButtonRef = React.useRef<HTMLButtonElement>(null);\r\n  const imageButtonRef = React.useRef<HTMLButtonElement>(null);\r\n  const videoButtonRef = React.useRef<HTMLButtonElement>(null);\r\n\r\n  const labels = { ...defaultI18n, ...i18n };\r\n\r\n  // Helper for image by URL\r\n  const handleImageUrlInsert = useCallback(() => {\r\n    if (imageUrl && isSafeUrl(imageUrl)) {\r\n      const attrs: any = { src: imageUrl };\r\n      if (imageWidth) attrs.width = imageWidth;\r\n      if (imageHeight) attrs.height = imageHeight;\r\n      editor.chain().focus().setImage(attrs).run();\r\n      setImagePopoverOpen(false);\r\n      setImageUrl('');\r\n      setImageWidth('');\r\n      setImageHeight('');\r\n    } else if (imageUrl) {\r\n      window.alert('Invalid or unsafe image URL.');\r\n    }\r\n  }, [editor, imageUrl, imageWidth, imageHeight]);\r\n\r\n  // Helper for image upload\r\n  const handleImageUpload = async (file: File) => {\r\n    if (!imageUploadUrl) return;\r\n    setUploading(true);\r\n    setUploadError(null);\r\n    setUploadedImageUrl('');\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      // If tiptap expects a specific field name, adjust here\r\n      const response = await fetch(imageUploadUrl, {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n      if (!response.ok) throw new Error('Upload failed');\r\n      const data = await response.json();\r\n      // Tiptap expects { link: 'url' } or similar; adjust as needed\r\n      const url = data.link || data.url || data.src || '';\r\n      if (!url) throw new Error('No image URL returned');\r\n      setUploadedImageUrl(url);\r\n    } catch (err: any) {\r\n      setUploadError(err.message || 'Upload failed');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleUploadInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setImageFile(file);\r\n      handleImageUpload(file);\r\n    }\r\n  };\r\n\r\n  const handleUploadedImageInsert = () => {\r\n    if (uploadedImageUrl) {\r\n      const attrs: any = { src: uploadedImageUrl };\r\n      if (imageWidth) attrs.width = imageWidth;\r\n      if (imageHeight) attrs.height = imageHeight;\r\n      editor.chain().focus().setImage(attrs).run();\r\n      setImagePopoverOpen(false);\r\n      setUploadedImageUrl('');\r\n      setImageFile(null);\r\n      setImageWidth('');\r\n      setImageHeight('');\r\n      setUploadError(null);\r\n      setImageTab('url');\r\n    }\r\n  };\r\n\r\n  // Helper for video embedding (popover)\r\n  const handleVideoUrlInsert = useCallback(() => {\r\n    if (videoUrl && isSafeUrl(videoUrl)) {\r\n      const attrs: any = { src: videoUrl };\r\n      if (videoWidth) attrs.width = videoWidth;\r\n      if (videoHeight) attrs.height = videoHeight;\r\n      editor.chain().focus().setYoutubeVideo(attrs).run();\r\n      setVideoPopoverOpen(false);\r\n      setVideoUrl('');\r\n      setVideoWidth('');\r\n      setVideoHeight('');\r\n    } else if (videoUrl) {\r\n      window.alert('Invalid or unsafe video URL.');\r\n    }\r\n  }, [editor, videoUrl, videoWidth, videoHeight]);\r\n\r\n  // Helper for link insertion (popover)\r\n  const handleLinkInsert = useCallback(() => {\r\n    if (linkUrl && isSafeUrl(linkUrl)) {\r\n      editor.chain().focus().setLink({ href: linkUrl, target: linkTarget }).run();\r\n      setLinkPopoverOpen(false);\r\n      setLinkUrl('');\r\n      setLinkTarget('_blank');\r\n    } else if (linkUrl) {\r\n      window.alert('Invalid or unsafe link URL.');\r\n    }\r\n  }, [editor, linkUrl, linkTarget]);\r\n  const handleLinkUnset = useCallback(() => {\r\n    editor.chain().focus().unsetLink().run();\r\n    setLinkPopoverOpen(false);\r\n    setLinkUrl('');\r\n  }, [editor]);\r\n\r\n  if (!editor) return null;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"richer-editor-toolbar\">\r\n\r\n        {/* Headings Dropdown */}\r\n        {!excludeToolbarButtons.includes('heading') && (\r\n          <>\r\n            <CustomSelect\r\n              value={(() => {\r\n                const activeHeading = headingOptions.find(opt => editor.isActive('heading', { level: opt.level }));\r\n                return activeHeading ? activeHeading.level.toString() : '';\r\n              })()}\r\n              options={[\r\n                { value: 'paragraph', label: 'Paragraph' },\r\n                ...headingOptions.map(opt => ({ value: opt.level.toString(), label: `H${opt.level}` }))\r\n              ]}\r\n              onChange={(val: string) => {\r\n                if (val === 'paragraph') {\r\n                  editor.chain().focus().setParagraph().run();\r\n                } else {\r\n                  editor.chain().focus().toggleHeading({ level: Number(val) }).run();\r\n                }\r\n              }}\r\n              className=\"richer-editor-select\"\r\n              placeholder={<Heading size={16} />} // Use Heading1 icon as placeholder\r\n              aria-label=\"Heading Level\"\r\n            />\r\n            <div className=\"toolbar-divider\" />\r\n          </>\r\n        )}\r\n\r\n        {/* Font Size Dropdown */}\r\n        {!excludeToolbarButtons.includes('fontSize') && (\r\n          <CustomSelect\r\n            value={editor.getAttributes('fontSize').fontSize || ''}\r\n            options={(fontSizeOptions || fontSizes).map(f => ({ value: f.value, label: f.name }))}\r\n            onChange={val => editor.chain().focus().setFontSize(val).run()}\r\n            className=\"richer-editor-select\"\r\n            placeholder={<FontSizeIcon size={20} />} // Use FontSizeIcon as placeholder\r\n            aria-label={labels.fontSize || 'Font Size'}\r\n          />\r\n        )}\r\n\r\n        <div className=\"toolbar-divider\" />\r\n        {/* Bold */}\r\n        {!excludeToolbarButtons.includes('bold') && (\r\n          <button onClick={() => editor.chain().focus().toggleBold().run()} className={`richer-editor-button${editor.isActive(\"bold\") ? ' richer-editor-buttonActive' : ''}`} type=\"button\" aria-label={labels.bold} title={labels.bold}><BoldIcon size={16} /></button>\r\n        )}\r\n        {!excludeToolbarButtons.includes('italic') && (\r\n          <button onClick={() => editor.chain().focus().toggleItalic().run()} className={`richer-editor-button ${editor.isActive(\"italic\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.italic} title={labels.italic}><ItalicIcon size={16} /></button>\r\n        )}\r\n        {/* Underline */}\r\n        {!excludeToolbarButtons.includes('underline') && (\r\n          <button onClick={() => editor.chain().focus().toggleUnderline().run()} className={`richer-editor-button${editor.isActive(\"underline\") ? ' richer-editor-buttonActive' : ''}`} type=\"button\" aria-label={labels.underline} title={labels.underline}><UnderlineIcon size={16} /></button>\r\n        )}\r\n        {!excludeToolbarButtons.includes('strike') && (\r\n          <button onClick={() => editor.chain().focus().toggleStrike().run()} className={`richer-editor-button ${editor.isActive(\"strike\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.strike} title={labels.strike}><StrikeIcon size={16} /></button>\r\n        )}\r\n        {/* Highlighter (single color) */}\r\n        {!excludeToolbarButtons.includes('highlight') && (\r\n          <button onClick={() => editor.chain().focus().toggleHighlight({ color: '#fff59d' }).run()} className={`richer-editor-button${editor.isActive(\"highlight\") ? ' richer-editor-buttonActive' : ''}`} type=\"button\" aria-label={labels.highlight} title={labels.highlight}><Highlighter size={16} /></button>\r\n        )}\r\n        {/* Code block */}\r\n        {!excludeToolbarButtons.includes('code') && (\r\n          <button onClick={() => editor.chain().focus().toggleCodeBlock().run()} className={`richer-editor-button${editor.isActive(\"codeBlock\") ? ' richer-editor-buttonActive' : ''}`} type=\"button\" aria-label={labels.code} title={labels.code}><CodeIcon size={16} /></button>\r\n        )}\r\n        <div className=\"toolbar-divider\" />\r\n        {/* Unordered List */}\r\n        {!excludeToolbarButtons.includes('bulletList') && (\r\n          <button onClick={() => editor.chain().focus().toggleBulletList().run()} className={`richer-editor-button${editor.isActive(\"bulletList\") ? ' richer-editor-buttonActive' : ''}`} type=\"button\" aria-label={labels.bulletList} title={labels.bulletList}><BulletListIcon size={16} /></button>\r\n        )}\r\n        {/* Ordered List */}\r\n        {!excludeToolbarButtons.includes('orderedList') && (\r\n          <button onClick={() => editor.chain().focus().toggleOrderedList().run()} className={`richer-editor-button${editor.isActive(\"orderedList\") ? ' richer-editor-buttonActive' : ''}`} type=\"button\" aria-label={labels.orderedList} title={labels.orderedList}><OrderedListIcon size={16} /></button>\r\n        )}\r\n        <div className=\"toolbar-divider\" />\r\n        {/* Blockquote, hr */}\r\n        {!excludeToolbarButtons.includes('blockquote') && (\r\n          <button onClick={() => editor.chain().focus().toggleBlockquote().run()} className={`richer-editor-button ${editor.isActive(\"blockquote\") ? \"richer-editor-buttonActive\" : ''}`} type=\"button\" aria-label={labels.blockquote} title={labels.blockquote}><BlockquoteIcon size={16} /></button>\r\n        )}\r\n        {!excludeToolbarButtons.includes('hr') && (\r\n          <>\r\n            <button onClick={() => editor.chain().focus().setHorizontalRule().run()} className=\"richer-editor-button\" type=\"button\" aria-label={labels.hr} title={labels.hr}>HR</button>\r\n            <div className=\"toolbar-divider\" />\r\n          </>\r\n        )}\r\n        <div className=\"toolbar-divider\" />\r\n        {/* Link Popover */}\r\n        {!excludeToolbarButtons.includes('link') && (\r\n          <>\r\n            <button\r\n              ref={linkButtonRef}\r\n              onClick={() => {\r\n                setLinkPopoverOpen((open) => !open);\r\n                setLinkUrl(editor.getAttributes('link').href || '');\r\n                setLinkTarget(editor.getAttributes('link').target || '_blank');\r\n              }}\r\n              className={`richer-editor-button${editor.isActive(\"link\") ? ' richer-editor-buttonActive' : ''}`}\r\n              type=\"button\"\r\n              aria-label={labels.link}\r\n              title={labels.link}\r\n            >\r\n              <LinkIcon size={16} />\r\n            </button>\r\n            <CustomPopover\r\n              open={linkPopoverOpen}\r\n              onOpenChange={setLinkPopoverOpen}\r\n              anchorEl={linkButtonRef.current}\r\n              closeButton\r\n              onEsc={() => setLinkPopoverOpen(false)}\r\n            >\r\n              <div className=\"mb-2 font-semibold text-base\">{labels.link}</div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Paste link URL here...\"\r\n                value={linkUrl}\r\n                onChange={e => setLinkUrl(e.target.value)}\r\n                className=\"richer-editor-input\"\r\n                autoFocus\r\n              />\r\n              <select\r\n                name=\"target\"\r\n                value={linkTarget}\r\n                onChange={e => setLinkTarget(e.target.value)}\r\n                className=\"richer-editor-input\"\r\n                style={{ marginBottom: 8 }}\r\n              >\r\n                <option value=\"_blank\">New Tab (_blank)</option>\r\n                <option value=\"_self\">Same Tab (_self)</option>\r\n                <option value=\"_parent\">Parent Frame (_parent)</option>\r\n                <option value=\"_top\">Top Frame (_top)</option>\r\n              </select>\r\n              <div className=\"richer-editor-flexRow\">\r\n                <button\r\n                  className=\"richer-editor-primaryBtn\"\r\n                  onClick={handleLinkInsert}\r\n                  disabled={!linkUrl}\r\n                >\r\n                  {labels.insert}\r\n                </button>\r\n                <button\r\n                  className=\"richer-editor-secondaryBtn\"\r\n                  onClick={handleLinkUnset}\r\n                  disabled={!editor.isActive('link')}\r\n                >\r\n                  {labels.remove}\r\n                </button>\r\n              </div>\r\n            </CustomPopover>\r\n          </>\r\n        )}\r\n        {/* Image Popover */}\r\n        {!excludeToolbarButtons.includes('image') && (\r\n          <>\r\n            <button\r\n              ref={imageButtonRef}\r\n              onClick={() => {\r\n                setImagePopoverOpen((open) => !open);\r\n                if (!imageUploadUrl) setImageTab('url');\r\n              }}\r\n              className=\"richer-editor-button\"\r\n              type=\"button\"\r\n              aria-label={labels.image}\r\n              title={labels.image}\r\n            >\r\n              <ImageIcon size={16} />\r\n            </button>\r\n            <CustomPopover\r\n              open={imagePopoverOpen}\r\n              onOpenChange={setImagePopoverOpen}\r\n              anchorEl={imageButtonRef.current}\r\n              closeButton\r\n              onEsc={() => setImagePopoverOpen(false)}\r\n            >\r\n              <div className=\"mb-2 font-semibold text-base flex gap-4 border-b pb-2\">\r\n                <button className={`richer-editor-button${imageTab === 'url' ? ' richer-editor-buttonActive' : ''}`} onClick={() => setImageTab('url')}>URL</button>\r\n                {imageUploadUrl && (\r\n                  <button className={`richer-editor-button${imageTab === 'upload' ? ' richer-editor-buttonActive' : ''}`} onClick={() => setImageTab('upload')}>Upload</button>\r\n                )}\r\n              </div>\r\n              {imageTab === 'url' && (\r\n                <>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Paste image URL here...\"\r\n                    value={imageUrl}\r\n                    onChange={e => setImageUrl(e.target.value)}\r\n                    className=\"richer-editor-input\"\r\n                    autoFocus\r\n                  />\r\n                  <div className=\"richer-editor-flexRowMb2\">\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Width (e.g. 400 or 50%)\"\r\n                      value={imageWidth}\r\n                      onChange={e => setImageWidth(e.target.value)}\r\n                      className=\"richer-editor-input\"\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Height (e.g. 300 or 50%)\"\r\n                      value={imageHeight}\r\n                      onChange={e => setImageHeight(e.target.value)}\r\n                      className=\"richer-editor-input\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"richer-editor-textXs\">Leave blank for default size. Use px (e.g. 400) or % (e.g. 50%).</div>\r\n                  <button\r\n                    className=\"richer-editor-primaryBtn\"\r\n                    onClick={handleImageUrlInsert}\r\n                    disabled={!imageUrl}\r\n                  >\r\n                    {labels.image}\r\n                  </button>\r\n                </>\r\n              )}\r\n              {imageTab === 'upload' && imageUploadUrl && (\r\n                <>\r\n                  {!uploadedImageUrl && (\r\n                    <>\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleUploadInputChange}\r\n                        className=\"mb2\"\r\n                        disabled={uploading}\r\n                      />\r\n                      {uploading && <div className=\"text-sm text-blue-600 mb-2\">Uploading...</div>}\r\n                      {uploadError && <div className=\"text-sm text-red-600 mb-2\">{uploadError}</div>}\r\n                    </>\r\n                  )}\r\n                  {uploadedImageUrl && (\r\n                    <>\r\n                      <div className=\"mb-2 flex flex-col items-center\">\r\n                        <img src={uploadedImageUrl} alt=\"Preview\" className=\"max-h-40 max-w-full rounded border mb-2\" />\r\n                      </div>\r\n                      <div className=\"richer-editor-flexRowMb2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"Width (e.g. 400 or 50%)\"\r\n                          value={imageWidth}\r\n                          onChange={e => setImageWidth(e.target.value)}\r\n                          className=\"richer-editor-input\"\r\n                        />\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"Height (e.g. 300 or 50%)\"\r\n                          value={imageHeight}\r\n                          onChange={e => setImageHeight(e.target.value)}\r\n                          className=\"richer-editor-input\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"richer-editor-flexRow\">\r\n                        <button\r\n                          className=\"richer-editor-primaryBtn\"\r\n                          onClick={handleUploadedImageInsert}\r\n                        >\r\n                          {labels.add}\r\n                        </button>\r\n                        <button\r\n                          className=\"richer-editor-secondaryBtn\"\r\n                          onClick={() => {\r\n                            setUploadedImageUrl('');\r\n                            setImageFile(null);\r\n                            setImageWidth('');\r\n                            setImageHeight('');\r\n                            setUploadError(null);\r\n                          }}\r\n                        >\r\n                          {labels.cancel}\r\n                        </button>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </>\r\n              )}\r\n            </CustomPopover>\r\n          </>\r\n        )}\r\n        {/* Video Popover */}\r\n        {!excludeToolbarButtons.includes('video') && (\r\n          <>\r\n            <button\r\n              ref={videoButtonRef}\r\n              onClick={() => setVideoPopoverOpen((open) => !open)}\r\n              className=\"richer-editor-button\"\r\n              type=\"button\"\r\n              aria-label={labels.video}\r\n              title={labels.video}\r\n            >\r\n              <VideoIcon size={16} />\r\n            </button>\r\n            <CustomPopover\r\n              open={videoPopoverOpen}\r\n              onOpenChange={setVideoPopoverOpen}\r\n              anchorEl={videoButtonRef.current}\r\n              closeButton\r\n              onEsc={() => setVideoPopoverOpen(false)}\r\n            >\r\n              <div className=\"mb-2 font-semibold text-base\">{labels.video}</div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Paste YouTube video URL here...\"\r\n                value={videoUrl}\r\n                onChange={e => setVideoUrl(e.target.value)}\r\n                className=\"richer-editor-input\"\r\n                autoFocus\r\n              />\r\n              <div className=\"richer-editor-flexRowMb2\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Width (e.g. 400 or 50%)\"\r\n                  value={videoWidth}\r\n                  onChange={e => setVideoWidth(e.target.value)}\r\n                  className=\"richer-editor-input\"\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Height (e.g. 300 or 50%)\"\r\n                  value={videoHeight}\r\n                  onChange={e => setVideoHeight(e.target.value)}\r\n                  className=\"richer-editor-input\"\r\n                />\r\n              </div>\r\n              <div className=\"richer-editor-textXs\">Leave blank for default size. Use px (e.g. 400) or % (e.g. 50%).</div>\r\n              <button\r\n                className=\"richer-editor-primaryBtn\"\r\n                onClick={handleVideoUrlInsert}\r\n                disabled={!videoUrl}\r\n              >\r\n                {labels.video}\r\n              </button>\r\n            </CustomPopover>\r\n          </>\r\n        )}\r\n        {/* Alignment Dropdown */}\r\n        {!excludeToolbarButtons.includes('align') && (\r\n          <CustomSelect\r\n            value={editor.getAttributes('textAlign') || 'left'}\r\n            options={alignmentOptions.map(opt => ({ value: opt.value, label: <>{opt.label} {opt.name}</> }))}\r\n            onChange={val => editor.chain().focus().setTextAlign(val).run()}\r\n            className=\"richer-editor-select\"\r\n            placeholder={<AlignJustify size={16} />}\r\n          />\r\n        )}\r\n        {/* Custom Toolbar Buttons (rendered at the end) */}\r\n        {customToolbarButtons && (typeof customToolbarButtons === 'function' ? customToolbarButtons(editor) : customToolbarButtons)}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\n// Update SmallRicherEditorProps to accept only { json: object }\r\ninterface SmallRicherEditorProps {\r\n  content?: { json?: object | string, html?: string };\r\n  onChange?: (value: { html: string; json: object | string }) => void;\r\n  imageUploadUrl?: string;\r\n  minHeight?: string;\r\n  maxHeight?: string;\r\n  editorProps?: any;\r\n  className?: string;\r\n  excludeToolbarButtons?: string[];\r\n  i18n?: Record<string, string>;\r\n  fontSizeOptions?: { name: string; value: string }[];\r\n  fontFamilyOptions?: { name: string; value: string }[];\r\n  extensions?: any[]; // Allow user to pass additional TipTap extensions\r\n  customToolbarButtons?: React.ReactNode | ((editor: any) => React.ReactNode);\r\n}\r\n\r\nconst SmallRicherEditor  = ({\r\n  content = {},\r\n  onChange,\r\n  imageUploadUrl,\r\n  minHeight,\r\n  maxHeight,\r\n  editorProps = {},\r\n  className = '',\r\n  excludeToolbarButtons = [],\r\n  i18n = {},\r\n  fontSizeOptions,\r\n  fontFamilyOptions,\r\n  extensions = [], // default to empty array\r\n  customToolbarButtons,\r\n}: SmallRicherEditorProps) => {\r\n  const debounceRef = useRef<NodeJS.Timeout | null>(null);\r\n  // Use safe content conversion\r\n  const safeContent = React.useMemo(() => getSafeContent(content), [content]);\r\n  const defaultExtensions = [\r\n    StarterKit,\r\n    Link.configure({ openOnClick: true }),\r\n    Highlight.configure({ multicolor: false, HTMLAttributes: { style: 'background-color: #fff59d' } }),\r\n    TextAlign.configure({ types: [\"paragraph\"] }),\r\n    Image,\r\n    Youtube.configure({\r\n      controls: true,\r\n      allowFullscreen: true,\r\n      width: 640,\r\n      height: 360,\r\n      HTMLAttributes: {\r\n        class: 'mx-auto my-4 rounded-lg shadow',\r\n      },\r\n    }),\r\n    TextStyle,\r\n    FontSize\r\n  ];\r\n  const editor = useEditor({\r\n    extensions: [\r\n      ...defaultExtensions,\r\n      ...extensions\r\n    ],\r\n    content: safeContent,\r\n    editorProps: {\r\n      ...editorProps,\r\n      attributes: {\r\n        class: `richer-editor-textarea ${className || ''}`,\r\n        style: `${minHeight ? `min-height:${minHeight};` : ''}${editorProps?.attributes?.style || ''}`,\r\n        spellCheck: 'true',\r\n        ...editorProps?.attributes,\r\n      },\r\n    },\r\n    onUpdate({ editor }) {\r\n      if (onChange) {\r\n        if (debounceRef.current) clearTimeout(debounceRef.current);\r\n        debounceRef.current = setTimeout(() => {\r\n          onChange({\r\n            html: editor.getHTML(),\r\n            json: JSON.stringify(editor.getJSON()),\r\n          });\r\n        }, 300);\r\n      }\r\n    },\r\n    immediatelyRender: false,\r\n  });\r\n\r\n  // In the useEffect, compare against safeContent instead of content\r\n  React.useEffect(() => {\r\n    if (editor && content !== undefined) {\r\n      const current = editor.getJSON();\r\n      const parsed = getSafeContent(content);\r\n      if (JSON.stringify(current) !== JSON.stringify(parsed)) {\r\n        editor.commands.setContent(parsed);\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [content]);\r\n\r\n  return (\r\n      <div className={`richer-editor-roundedMdBorder`}>\r\n        <MenuBar editor={editor} imageUploadUrl={imageUploadUrl} excludeToolbarButtons={excludeToolbarButtons} i18n={i18n} fontSizeOptions={fontSizeOptions} fontFamilyOptions={fontFamilyOptions} customToolbarButtons={customToolbarButtons} />\r\n        <div className=\"richer-editor-overflowAuto\" style={{maxHeight: maxHeight}}>\r\n          <EditorContent editor={editor} />\r\n        </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default SmallRicherEditor;","// File: src/icons/FontSizeIcon.tsx\r\nimport React from 'react';\r\n\r\nconst FontSizeIcon = ({ size = 18, color = 'currentColor', ...props }) => (\r\n  <svg\r\n    width={size}\r\n    height={size}\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke={color}\r\n    strokeWidth=\"2\"\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    {...props}\r\n  >\r\n    <path d=\"M21 14h-5\"/><path d=\"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16\"/><path d=\"M4.5 13h6\"/><path d=\"m3 16 4.5-9 4.5 9\"/>\r\n  </svg>\r\n);\r\n\r\nexport default FontSizeIcon;\r\n\r\n","\r\nimport React from 'react';\r\n\r\nconst Heading = ({ size = 24, color = 'currentColor', className = '', ...props }) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width={size}\r\n    height={size}\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke={color}\r\n    strokeWidth={2}\r\n    strokeLinecap=\"round\"\r\n    strokeLinejoin=\"round\"\r\n    className={className}\r\n    {...props}\r\n  >\r\n    <path d=\"M6 12h12\"/><path d=\"M6 20V4\"/><path d=\"M18 20V4\"/>\r\n  </svg>\r\n);\r\n\r\nexport default Heading;\r\n","'use client'\r\n\r\nimport React from 'react'\r\n\r\ntype Props = {\r\n  content: string\r\n  className?: string\r\n}\r\n\r\nconst RicherContent = ({ content, className = '' }: Props) => {\r\n  const [highlightedContent, setHighlightedContent] = React.useState<string>('')\r\n\r\n  // React.useEffect(() => {\r\n  //   let isMounted = true\r\n\r\n  //   const fetchHighlighted = async () => {\r\n  //     try {\r\n  //       const res = await fetch('/api/code-highlighter', {\r\n  //         method: 'POST',\r\n  //         headers: { 'Content-Type': 'application/json' },\r\n  //         body: JSON.stringify({ content }),\r\n  //       })\r\n\r\n  //       const data = await res.json()\r\n  //       if (isMounted) {\r\n  //         setHighlightedContent(data.highlitdcontent)\r\n  //       }\r\n  //     } catch (error) {\r\n  //       console.error('Highlighting failed:', error)\r\n  //       if (isMounted) {\r\n  //         setHighlightedContent(content) // fallback\r\n  //       }\r\n  //     }\r\n  //   }\r\n\r\n  //   fetchHighlighted()\r\n\r\n  //   return () => {\r\n  //     isMounted = false\r\n  //   }\r\n  // }, [content])\r\n\r\n  // if (!highlightedContent) return <div>Loading...</div>\r\n\r\n  return (\r\n    <div className={className}>\r\n      <div\r\n        className=\"max-w-none\"\r\n        dangerouslySetInnerHTML={{ __html: content }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RicherContent\r\n"],"mappings":"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","names":["import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_react","React","import_core","Node","mergeAttributes","__export","getNodeType","isNodeActive","ListItemName","TextStyleName","wrappingInputRule","Extension","import_core","import_core","import_react","React","ReactDOM","import_react","import_react_dom","ReactDOM","React","React","React","StarterKit","Link","TextAlign","Image","TaskList","TaskItem","Superscript","Subscript","Youtube","Color","FontFamily","FontSize","Highlight","editor","import_react","import_starter_kit","import_extension_link","import_extension_highlight","import_extension_youtube","import_extension_text_align","import_extension_text_style","import_extension_font_size","import_extension_image","import_react","React","import_RicherEditor","import_react","React","isSafeUrl","fontSizes","React","headingOptions","defaultI18n","MenuBar","isSafeUrl","fontSizes","StarterKit","Link","Highlight","TextAlign","Image","Youtube","FontSize","editor","import_react","React"]}